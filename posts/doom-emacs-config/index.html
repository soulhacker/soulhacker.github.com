<!doctype html>

<html lang="en-us">

<head>
  <title>Doom Emacs é…ç½® - Paradigm X</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="The HTML5 Herald" />
<meta name="author" content="[Neo Lee]" /><meta property="og:url" content="/posts/doom-emacs-config/">
  <meta property="og:site_name" content="Paradigm X">
  <meta property="og:title" content="Doom Emacs é…ç½®">
  <meta property="og:description" content="è¿™ä»½é…ç½®åŸºäº Emacs æ¨¡å¼çš„æŒ‰é”®ç»„åˆï¼Œæ²¡æœ‰å¯ç”¨ Doom Emacs ç¼ºçœçš„ evil æ¨¡å¼ï¼Œå¦‚æœå¸Œæœ›ä½¿ç”¨ç±» Vim çš„æŒ‰é”®æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒå…¶ä»–ä¸€äº›å¤§ç‰›ï¼Œæ¯”å¦‚çš„ Tec Osaur çš„éå¸¸æœ‰æ•™ç›Šçš„ç‰ˆæœ¬ã€‚">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-09-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-07-01T17:40:29+08:00">
    <meta property="article:tag" content="Tools">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Doom Emacs é…ç½®">
  <meta name="twitter:description" content="è¿™ä»½é…ç½®åŸºäº Emacs æ¨¡å¼çš„æŒ‰é”®ç»„åˆï¼Œæ²¡æœ‰å¯ç”¨ Doom Emacs ç¼ºçœçš„ evil æ¨¡å¼ï¼Œå¦‚æœå¸Œæœ›ä½¿ç”¨ç±» Vim çš„æŒ‰é”®æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒå…¶ä»–ä¸€äº›å¤§ç‰›ï¼Œæ¯”å¦‚çš„ Tec Osaur çš„éå¸¸æœ‰æ•™ç›Šçš„ç‰ˆæœ¬ã€‚">

<meta name="generator" content="Hugo 0.148.1">
    

  <link rel="stylesheet" href="/css/normalize.min.css" />
  <link rel="stylesheet" href="/fontawesome/css/all.min.css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  
  
  <link rel="stylesheet" type="text/css" href="/css/styles.css" /><link rel='stylesheet' href='/css/main.css'><link rel='stylesheet' href='/css/syntax.css'>
</head>

<body>
  <div id="container">
    <header>
      
      <h1>
        <a href="/">Paradigm X</a>
      </h1>

      <ul id="social-media">
      </ul>
      
      <p><em>Vision quests of a soulhacker</em></p>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="active" href="/posts/">
                <i class="fa-li fa  fa-lg"></i><span>å…¨éƒ¨æ–‡ç« </span>
            </a>
        </li>
        
        <li>
            <a class="" href="/tags/">
                <i class="fa-li fa  fa-lg"></i><span>æ ‡ç­¾</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/about/">
                <i class="fa-li fa  fa-lg"></i><span>å…³äº</span>
            </a>
        </li>
        
    </ul>
</nav>


    <main>




<article>

    <h1>Doom Emacs é…ç½®</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2022-09-18T00:00:00Z">Sep 18, 2022</time>
        </li>
        
        <li>
            Modified on <time datetime="2025-07-01T17:40:29&#43;08:00">Jul 1, 2025</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/tools">#Tools</a>
                
            </em>
        </li>
        

        <li>16 minute read</li>
    </ul>
</aside>

    

    
      

    

    <blockquote>
<p>è¿™ä»½é…ç½®åŸºäº Emacs æ¨¡å¼çš„æŒ‰é”®ç»„åˆï¼Œæ²¡æœ‰å¯ç”¨ Doom Emacs ç¼ºçœçš„ <code>evil</code> æ¨¡å¼ï¼Œå¦‚æœå¸Œæœ›ä½¿ç”¨ç±» Vim çš„æŒ‰é”®æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒå…¶ä»–ä¸€äº›å¤§ç‰›ï¼Œæ¯”å¦‚çš„ <a href="https://tecosaur.github.io/emacs-config/config.html">Tec Osaur</a> çš„éå¸¸æœ‰æ•™ç›Šçš„ç‰ˆæœ¬ã€‚</p></blockquote>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>Doom Emacs çš„é…ç½®éƒ½åœ¨å˜é‡ <code>doom-user-dir</code> æŒ‡å‘çš„ç›®å½•ä¸‹ï¼ˆæ ¹æ®å®‰è£…æ—¶çš„é€‰æ‹©å¯èƒ½æ˜¯ <code>~/.doom.d/</code> æˆ– <code>~/.config/doom/</code> ï¼‰ï¼Œä¸»è¦æ˜¯ä¸‰ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li><code>init.el</code> ï¼šå¯ç”¨/åœç”¨ Doom é¢„å…ˆé…ç½®å¥½çš„æ¨¡å—ï¼ˆ <em>modules</em> ï¼‰ï¼›</li>
<li><code>package.el</code> ï¼šè‡ªå·±å¦è¡Œä¸‹è½½å®‰è£…çš„è½¯ä»¶åŒ…ï¼ˆ <em>packages</em> ï¼‰ï¼Œæˆ–å¯¹å·²å¯ç”¨çš„è½¯ä»¶åŒ…ç‰ˆæœ¬è¿›è¡Œé…ç½®ï¼ŒDoom Emacs ä½¿ç”¨ <code>straight.el</code> åŒ…ç®¡ç†å™¨ <a href="https://github.com/radian-software/straight.el">â†’</a>ï¼›</li>
<li><code>config.el</code> ï¼šå„ç§é…ç½®ï¼Œå¤§éƒ¨åˆ†é¢„åˆ¶æ¨¡å—ä¸éœ€è¦æˆ–è€…åªéœ€è¦å°‘è®¸é…ç½®ï¼Œå› ä¸º Doom å·²ç»åšäº†ç›¸å¯¹å¥½çš„ç¼ºçœå®‰æ’ï¼Œè‡ªè¡Œå®‰è£…çš„åŒ…åˆ™éœ€è¦åšç›¸åº”çš„é…ç½®ï¼›å½“ç„¶å¦‚æœå¯¹ Doom æä¾›çš„ç¼ºçœå®‰æ’ä¸æ»¡æ„ï¼Œä¹Ÿå¯ä»¥åœ¨æ­¤åŠ¨æ‰‹è¦†ç›–ã€‚</li>
</ul>
<p>è¦æ›´æ”¹é…ç½®å°±ç¼–è¾‘è¿™ä¸‰ä¸ªæ–‡ä»¶å³å¯ï¼Œä½†æˆ‘ä»¬æœ‰æ›´å¥½çš„é€‰æ‹©ï¼Œé‚£å°±æ˜¯ <em>literate config</em> ï¼Œè¿™æ˜¯ä¸ªå¾ˆé…·çš„åŠŸèƒ½Â <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰é…ç½®ä»£ç éƒ½ç”¨ <code>org-babel</code> çš„æºç å—ï¼ˆ <em>source block</em> ï¼‰å†™åœ¨è¿™ä¸ª <code>config.org</code> æ–‡ä»¶ä¸­ï¼ˆå¯¹ï¼Œä½ ç°åœ¨çœ‹åˆ°çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶æœ¬èº«ï¼‰ï¼Œç„¶åç”¨ <code>org-babel</code> æä¾›çš„ <code>org-babel-tangle-file</code> å‡½æ•°æ¥è‡ªåŠ¨ç”Ÿæˆä¸Šè¿°ä¸‰ä¸ªæ–‡ä»¶ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">emacs --batch --eval <span class="s2">&#34;(progn (require &#39;org) (setq org-confirm-babel-evaluate nil) (org-babel-tangle-file \&#34;~/.config/doom/config.org\&#34;))&#34;</span>
</span></span></code></pre></div><p>è¿™ä¸ª <em>bootstrap</em> è¿‡ç¨‹åªéœ€è¦åšä¸€æ¬¡ï¼Œä¹‹å Doom æä¾›çš„ <code>literate</code> æ¨¡å—ä¼šè‡ªåŠ¨ç»´æŠ¤ã€‚</p>
<p>æ— è®ºé€šè¿‡ä»€ä¹ˆæ–¹å¼ï¼Œé…ç½®æ–‡ä»¶å˜åŒ–åè¦ä½¿ç”¨ <code>doom sync</code> å‘½ä»¤æ¥æ›´æ–°ç¯å¢ƒï¼ˆè¿™ä¸ªå‘½ä»¤é¦–å…ˆä¼šè‡ªåŠ¨ä»æœ¬æ–‡ä»¶å‡ºå‘é‡æ–°æ„é€ æ–°çš„é…ç½®æ–‡ä»¶ï¼‰ï¼Œè¿˜å¯ä»¥ç”¨ <code>doom doctor</code> æ¥æ£€æŸ¥é…ç½®ä¸­å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼ˆæœ€å¸¸è§çš„é—®é¢˜æ˜¯ä¾èµ–çš„å¤–éƒ¨ç¨‹åºæ‰¾ä¸åˆ°æˆ–è€…æ²¡é…å¥½ï¼‰ï¼›Doom Emacs æ›´æ–°æ¯”è¾ƒé¢‘ç¹ï¼Œè€Œä¸”é¼“åŠ±ç”¨æˆ·æ»šåŠ¨æ›´æ–°ç´§è·Ÿå¼€å‘åˆ†æ”¯ï¼Œæ‰€ä»¥å¯ä»¥å®šæœŸç”¨ <code>doom upgrade</code> æ¥æ›´æ–° Doom Emacs æœ¬èº«åŠæ‰€æœ‰å¯ç”¨çš„åŒ…ã€‚</p>
<p>æœ¬ç€ä¸æŠ˜è…¾çš„åŸåˆ™ï¼Œæˆ‘å¯¹åŠŸèƒ½å®ç°æ–¹æ¡ˆæ€»çš„é€‰æ‹©æ ‡å‡†æ˜¯ï¼š</p>
<ul>
<li>èƒ½ç”¨é¢„åˆ¶æ¨¡å—çš„å°½é‡ç”¨ï¼›</li>
<li>èƒ½ç”¨ç¼ºçœé…ç½®çš„å°½é‡ç”¨ï¼›</li>
<li>é‡è§†æŒç»­ç»´æŠ¤å’Œç§»æ¤çš„ä»£ä»·ï¼›</li>
<li>è¿˜æ˜¯ä¸å–œæ¬¢ <code>evil</code> ã€‚</li>
</ul>
<h2 id="é¢„åˆ¶æ¨¡å—">é¢„åˆ¶æ¨¡å—</h2>
<p>Doom æä¾›çš„å¤§é‡é¢„åˆ¶æ¨¡å—å¤§å¤šæ˜¯å½“å‰ä¼˜é€‰ï¼Œéš¾ä»¥ç¡®å®šçš„åœ°æ–¹ä¹Ÿæä¾›äº†ä¸»æµæ–¹æ¡ˆå¤šé€‰ä¸€ï¼Œå¹¶è¿›è¡Œäº†æ¯”è¾ƒæ°å½“çš„é…ç½®ï¼Œæ˜¯å®è—ï¼Œæˆ‘çš„é…ç½®ä¸»è¦ä»¥è¿™äº›é¢„åˆ¶æ¨¡å—ä¸ºä¸»ã€‚</p>
<p>å¦‚æœä¸æ¸…æ¥šæŸä¸ªæ¨¡å—æ•ˆæœåˆ°åº•å¦‚ä½•ï¼Œå¯ä»¥å¯ç”¨è¯•è¯•ï¼›<a href="https://docs.doomemacs.org/latest/#/modules">å®˜æ–¹æ–‡æ¡£</a>è™½ç„¶è¿˜ä¸å®Œæ•´ï¼Œä½†å·²ç»æŒºæœ‰ç”¨äº†ï¼Œå¯ä»¥äº†è§£æ¯ä¸ªæ¨¡å—çš„åŸºæœ¬é…ç½®é¡¹ã€ä¾èµ–å’Œä¸€äº›å¸¸è§é—®é¢˜ï¼Œåƒä¸‡ä¸è¦é”™è¿‡ã€‚</p>
<p><a id="code-snippet--init.el"></a></p>
<div class="highlight" collapsed="t"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="c1">;;; init.el -*- lexical-binding: t; -*-</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">doom!</span> <span class="nb">:input</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-input&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:completion</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-completion&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:ui</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-ui&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:editor</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-editor&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:emacs</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-emacs&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:term</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-term&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:checkers</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-checkers&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:tools</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-tools&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:os</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-os&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:lang</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-lang&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:email</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-email&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:app</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-app&gt;&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">       <span class="nv">&lt;&lt;doom-config&gt;&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">)</span>
</span></span></code></pre></div><h3 id="åŸºæœ¬è®¾ç½®">åŸºæœ¬è®¾ç½®</h3>
<p>Doom çš„ <code>:config</code> ç¼ºçœé…ç½®å¤§å¤šå¾ˆå¥½ï¼Œå°‘æ•°éœ€è¦å®šåˆ¶çš„åé¢å†è¯´ï¼›å¦å¤–å¾ˆé‡è¦çš„æ˜¯å¯ç”¨ <code>literate</code> æ¨¡å—ã€‚</p>
<p><a id="code-snippet--doom-config"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="nv">literate</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">default</span> <span class="nv">+bindings</span> <span class="nv">+smartparens</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="ç”¨æˆ·ç•Œé¢">ç”¨æˆ·ç•Œé¢</h3>
<p>è¿™éƒ¨åˆ†åŒ…å«äº† Doom çš„ <code>:completion</code> <code>:ui</code> <code>:editor</code> <code>:emacs</code> <code>:term</code> <code>:checkers</code> <code>:tools</code> <code>:os</code> å‡ å¤§ç±»åˆ«ã€‚</p>
<p>æ— å¤„ä¸åœ¨çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œç›®å‰æœ€ç®€å•å¥½ç”¨çš„è¿˜æ˜¯ <code>company</code> æ­é… <code>vertico</code> ã€‚</p>
<p><a id="code-snippet--doom-completion"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">company</span> <span class="nv">+childframe</span> <span class="nv">+icons</span><span class="p">)</span><span class="c1">; the ultimate code completion backend</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(corfu +orderless +dabbrev +icons)</span>
</span></span><span class="line"><span class="cl">                            <span class="c1">; complete with cap(f), cape and a flying feather!</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;helm                      ; the *other* search engine for love and life</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;ido                       ; the other *other* search engine...</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;ivy                       ; a search engine for love and life</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">vertico</span> <span class="nv">+childframe</span> <span class="nv">+icons</span><span class="p">)</span><span class="c1">; the search engine of the future</span>
</span></span></code></pre></div><p>è¿™é‡Œé¢æœ‰åè§†è§‰å’Œå¨±ä¹çš„ï¼ˆå‰è€…å¦‚ <code>hl-todo</code> <code>ligatures</code> åè€…å¦‚ <code>doom-quit</code> ï¼‰ï¼Œä½†å¤§å¤šæ•°æ˜¯å¾ˆå®ç”¨çš„ï¼Œæ¯”å¦‚ <code>window-select</code> å¤§å¹…å¼ºåŒ–äº†å¤šçª—å£æ—¶åˆ‡æ¢çª—å£ <code>C-x o</code> çš„ä½“éªŒï¼ˆå®é™…ä½¿ç”¨çš„æ˜¯ <code>ace-window</code> ï¼‰ã€‚å¦å¤– <code>unicode</code> è¿™ä¸ªéå¸¸é‡è¦ï¼Œå¦‚æœä¸æ‰“å¼€ä¼šæœ‰å¾ˆå¤šä¸­æ–‡æ˜¾ç¤ºæ–¹é¢çš„é—®é¢˜ã€‚</p>
<p><a id="code-snippet--doom-ui"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="c1">;;deft                      ; notational velocity for Emacs</span>
</span></span><span class="line"><span class="cl"><span class="nv">doom</span>                        <span class="c1">; what makes DOOM look the way it does</span>
</span></span><span class="line"><span class="cl"><span class="nv">doom-dashboard</span>              <span class="c1">; a nifty splash screen for Emacs</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;doom-quit                 ; DOOM quit-message prompts when you quit Emacs</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">emoji</span> <span class="nv">+unicode</span> <span class="nv">+github</span><span class="p">)</span>    <span class="c1">; ğŸ™‚</span>
</span></span><span class="line"><span class="cl"><span class="nv">hl-todo</span>                     <span class="c1">; highlight TODO/FIXME/NOTE/DEPRECATED/HACK/REVIEW</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;hydra</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;indent-guides             ; highlighted indent columns</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">ligatures</span> <span class="nv">+extra</span><span class="p">)</span>          <span class="c1">; ligatures and symbols to make your code pretty again</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;minimap                   ; show a map of the code on the side</span>
</span></span><span class="line"><span class="cl"><span class="nv">modeline</span>                    <span class="c1">; snazzy, Atom-inspired modeline, plus API</span>
</span></span><span class="line"><span class="cl"><span class="nv">nav-flash</span>                   <span class="c1">; blink cursor line after big motions</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;neotree                   ; a project drawer, like NERDTree for vim</span>
</span></span><span class="line"><span class="cl"><span class="nv">ophints</span>                     <span class="c1">; highlight the region an operation acts on</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">popup</span> <span class="nv">+all</span> <span class="nv">+defaults</span><span class="p">)</span>      <span class="c1">; tame sudden yet inevitable temporary windows</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;tabs                      ; a tab bar for Emacs</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">treemacs</span> <span class="nv">+lsp</span><span class="p">)</span>             <span class="c1">; a project drawer, like neotree but cooler</span>
</span></span><span class="line"><span class="cl"><span class="nv">unicode</span>                     <span class="c1">; extended unicode support for various languages</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">vc-gutter</span> <span class="nv">+pretty</span><span class="p">)</span>         <span class="c1">; vcs diff in the fringe</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;vi-tilde-fringe           ; fringe tildes to mark beyond EOB</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">window-select</span> <span class="nv">+number</span><span class="p">)</span>     <span class="c1">; visually switch windows</span>
</span></span><span class="line"><span class="cl"><span class="nv">workspaces</span>                  <span class="c1">; tab emulation, persistence &amp; separate workspaces</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;zen                       ; distraction-free coding or writing</span>
</span></span></code></pre></div><p>ç¼–è¾‘ç›¸å…³çš„æ¨¡å—è¿™é‡Œï¼Œæˆ‘åšçš„æœ€å¤§é€‰æ‹©æ˜¯ä¸ç”¨ <code>evil</code> ï¼Œå½“ç„¶å¾ˆå¤š Spacemacs å’Œ Doom ç”¨æˆ·éƒ½ä¼šé€‰æ‹©è¿™ä¸ªæ¨¡å¼ã€‚è¿™é‡Œè¦ç‰¹åˆ«æä¸€ä¸‹çš„æ˜¯ <code>lipsy</code> ï¼Œè¿™æ˜¯é’ˆå¯¹ Lisp ç±»è¯­è¨€çš„ä¸€ä¸ªç¼–è¾‘æ¨¡å¼ï¼Œéå¸¸å·§å¦™çš„å®ç°äº†å•æŒ‰é”®çš„å…‰æ ‡å¿«é€Ÿç§»åŠ¨å’Œç¼–è¾‘æ“ä½œï¼Œä½†ä¸éœ€è¦åˆ‡ Vim æ¨¡å¼ï¼Œæˆ‘è®¤ä¸ºæ¯”ä¼ ç»Ÿçš„ <code>paredit</code> å’Œ <code>smartparens</code> éƒ½æ›´é«˜æ˜ã€‚</p>
<p><a id="code-snippet--doom-editor"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="c1">;;(evil +everywhere)        ; come to the dark side, we have cookies</span>
</span></span><span class="line"><span class="cl"><span class="nv">file-templates</span>              <span class="c1">; auto-snippets for empty files</span>
</span></span><span class="line"><span class="cl"><span class="nv">fold</span>                        <span class="c1">; (nigh) universal code folding</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(format +onsave)          ; automated prettiness</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;god                       ; run Emacs commands without modifier keys</span>
</span></span><span class="line"><span class="cl"><span class="nv">lispy</span>                       <span class="c1">; vim for lisp, for people who don&#39;t like vim</span>
</span></span><span class="line"><span class="cl"><span class="nv">multiple-cursors</span>            <span class="c1">; editing in many places at once</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;objed                     ; text object editing for the innocent</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;parinfer                  ; turn lisp into python, sort of</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;rotate-text               ; cycle region at point between text candidates</span>
</span></span><span class="line"><span class="cl"><span class="nv">snippets</span>                    <span class="c1">; my elves. They type so I don&#39;t have to</span>
</span></span><span class="line"><span class="cl"><span class="nv">word-wrap</span>                   <span class="c1">; soft wrapping with language-aware indent</span>
</span></span></code></pre></div><p>ä¸€äº› Emacs å¸¸è§„åŠŸèƒ½ï¼ŒåŸºæœ¬éƒ½å¼€å¯å°±è¡Œäº†ã€‚</p>
<p><a id="code-snippet--doom-emacs"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">dired</span> <span class="nv">+dirvish</span> <span class="nv">+icons</span><span class="p">)</span>     <span class="c1">; making dired pretty [functional]</span>
</span></span><span class="line"><span class="cl"><span class="nv">electric</span>                    <span class="c1">; smarter, keyword-based electric-indent</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">ibuffer</span> <span class="nv">+icons</span><span class="p">)</span>            <span class="c1">; interactive buffer management</span>
</span></span><span class="line"><span class="cl"><span class="nv">undo</span>                        <span class="c1">; persistent, smarter undo for your inevitable mistakes</span>
</span></span><span class="line"><span class="cl"><span class="nv">vc</span>                          <span class="c1">; version-control and Emacs, sitting in a tree</span>
</span></span></code></pre></div><p>Doom æ”¯æŒå‡ ç§å†…ç½®çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œæ•ˆæœæœ€å¥½çš„åº”è¯¥æ˜¯ <code>vterm</code> ã€‚</p>
<p><a id="code-snippet--doom-term"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="c1">;;eshell                    ; the elisp shell that works everywhere</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;shell                     ; simple shell REPL for Emacs</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;term                      ; basic terminal emulator for Emacs</span>
</span></span><span class="line"><span class="cl"><span class="nv">vterm</span>                       <span class="c1">; the best terminal emulation in Emacs</span>
</span></span></code></pre></div><p>å…³äºæ‹¼å†™æ£€æŸ¥ï¼Œæˆ‘è¯•äº†å„ç§ç»„åˆï¼Œç›®å‰æœ€å¥½çš„åº”è¯¥è¿˜æ˜¯ <code>flyspell</code> å’Œ <code>aspell</code> ã€‚</p>
<p><a id="code-snippet--doom-checkers"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">syntax</span> <span class="nv">+childframe</span><span class="p">)</span>        <span class="c1">; tasing you for every semicolon you forget</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">spell</span> <span class="nv">+aspell</span> <span class="nv">+flyspell</span><span class="p">)</span>   <span class="c1">; tasing you for misspelling mispelling</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;grammar                   ; tasing grammar mistake every you make</span>
</span></span></code></pre></div><p>è¿™ä¸€ç»„å·¥å…·æˆ‘åŸºæœ¬éƒ½æ˜¯ç¼ºçœé€‰æ‹©ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ <code>magit</code> çœŸæ£’ï¼Œç”¨èµ·æ¥ç®€ç›´ä¸Šç˜¾ï¼Œè¿å†™ <em>commit message</em> éƒ½å˜å¾—é¦™ç”œäº†ã€‚æ³¨æ„ <code>lsp</code> è¦æ‰“å¼€ï¼Œåé¢é…ç½®å¾ˆå¤šç¼–ç¨‹è¯­è¨€æ—¶ä¼šç”¨åˆ°ã€‚</p>
<p><a id="code-snippet--doom-tools"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="c1">;;ansible</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;biblio                    ; Writes a PhD for you (citation needed)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;collab                    ; buffers with friends</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">debugger</span> <span class="nv">+lsp</span><span class="p">)</span>             <span class="c1">; FIXME stepping through code, to help you add bugs</span>
</span></span><span class="line"><span class="cl"><span class="nv">direnv</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;docker</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;editorconfig              ; let someone else argue about tabs vs spaces</span>
</span></span><span class="line"><span class="cl"><span class="nv">ein</span>                         <span class="c1">; tame Jupyter notebooks with emacs</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nf">eval</span> <span class="nv">+overlay</span><span class="p">)</span>             <span class="c1">; run code, run (also, repls)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">lookup</span> <span class="nv">+dictionary</span><span class="p">)</span>        <span class="c1">; navigate your code and its documentation</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">lsp</span> <span class="nv">+peek</span><span class="p">)</span>                 <span class="c1">; M-x vscode</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">magit</span> <span class="nv">+forge</span><span class="p">)</span>              <span class="c1">; a git porcelain for Emacs</span>
</span></span><span class="line"><span class="cl"><span class="nv">make</span>                        <span class="c1">; run make tasks from Emacs</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;pass                      ; password manager for nerds</span>
</span></span><span class="line"><span class="cl"><span class="nv">pdf</span>                         <span class="c1">; pdf enhancements</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;prodigy                   ; FIXME managing external services &amp; code builders</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;taskrunner                ; taskrunner for all your projects</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;terraform                 ; infrastructure as code</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;tmux                      ; an API for interacting with tmux</span>
</span></span><span class="line"><span class="cl"><span class="nv">tree-sitter</span>                 <span class="c1">; syntax and parsing, sitting in a tree...</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;upload                    ; map local to remote projects via ssh/ftp</span>
</span></span></code></pre></div><p>è¿™ä¸¤ä¸ªéƒ½æ˜¯ä¸æ“ä½œç³»ç»Ÿæœ‰å…³çš„è¡¥ä¸ï¼Œå‰ä¸€ä¸ª Mac ç”¨æˆ·å¯ç”¨ï¼Œåä¸€ä¸ªåˆ™éƒ½åº”è¯¥å¯ç”¨ã€‚</p>
<p><a id="code-snippet--doom-os"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">:if</span> <span class="nv">IS-MAC</span> <span class="nv">macos</span><span class="p">)</span>          <span class="c1">; improve compatibility with macOS</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">tty</span> <span class="nv">+osc</span><span class="p">)</span>                  <span class="c1">; improve the terminal Emacs experience</span>
</span></span></code></pre></div><h3 id="ç¼–ç¨‹è¯­è¨€">ç¼–ç¨‹è¯­è¨€</h3>
<p>Doom æä¾›äº†å‡ ä¹æ‰€æœ‰ä¸»æµè¯­è¨€çš„é¢„åˆ¶æ¨¡å—ï¼Œå¤§éƒ¨åˆ†éƒ½æä¾›äº†å¯¹ LSP çš„æ”¯æŒï¼Œæœ‰äº› <em>language server</em> å¯ä»¥ç›´æ¥åœ¨ Emacs ä¸­ä¸‹è½½é…ç½®ï¼Œä½†æœ‰äº›éœ€è¦å¦å¤–å®‰è£…é…ç½®ã€‚æœ‰ä¸å°‘ <em>language server</em> å®ç°ä¸å¤ªå¥½ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±åˆ¤æ–­ï¼Œä¸‹é¢æ˜¯æˆ‘å¯ç”¨çš„ä¸€äº›ç”¨å¾—åˆ°çš„è¯­è¨€ï¼Œå¤§éƒ¨åˆ†éƒ½å¯ç”¨äº† LSPï¼Œå¯ä»¥ç”¨ <code>doom doctor</code> æ¥ç¡®è®¤éœ€è¦å¦å¤–é…ç½®çš„å¤–éƒ¨æ”¯æŒè½¯ä»¶ã€‚å¦ä¸€ä¸ªå€¼å¾—å°è¯•çš„é€‰é¡¹æ˜¯ <code>+tree-sitter</code> ï¼Œä¸€ä¸ªå¼ºå¤§çš„é™æ€ä»£ç åˆ†ææ’ä»¶ï¼Œå®˜æ–¹æ–‡æ¡£ä¸­æ²¡æœ‰ï¼Œä½†å®é™…ä¸Šå­˜åœ¨ã€‚å¦å¤–ï¼Œæ— è®ºä½ ä¸»è¦ç”¨ä»€ä¹ˆç¼–ç¨‹è¯­è¨€ï¼Œ <code>emacs-lisp</code> å’Œ <code>org</code> è¿™ä¿©éƒ½åº”è¯¥å¯ç”¨ï¼Œå¦åˆ™è¿˜ç”¨ä»€ä¹ˆ Emacs å•Šï¼</p>
<p><a id="code-snippet--doom-lang"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="c1">;;agda                      ; types of types of types of types...</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;beancount                 ; mind the GAAP</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(cc +lsp)                 ; C &gt; C++ == 1</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">clojure</span> <span class="nv">+lsp</span><span class="p">)</span>              <span class="c1">; java with a lisp</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;common-lisp               ; if you&#39;ve seen one lisp, you&#39;ve seen them all</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;coq                       ; proofs-as-programs</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;crystal                   ; ruby at the speed of c</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;csharp                    ; unity, .NET, and mono shenanigans</span>
</span></span><span class="line"><span class="cl"><span class="nv">data</span>                        <span class="c1">; config/data formats</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(dart +flutter)           ; paint ui and not much else</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;dhall</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;elixir                    ; erlang done right</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;elm                       ; care for a cup of TEA?</span>
</span></span><span class="line"><span class="cl"><span class="nv">emacs-lisp</span>                  <span class="c1">; drown in parentheses</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;erlang                    ; an elegant language for a more civilized age</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;ess                       ; emacs speaks statistics</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;factor</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;faust                     ; dsp, but you get to keep your soul</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;fortran                   ; in FORTRAN, GOD is REAL (unless declared INTEGER)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;fsharp                    ; ML stands for Microsoft&#39;s Language</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;fstar                     ; (dependent) types and (monadic) effects and Z3</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;gdscript                  ; the language you waited for</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">go</span> <span class="nv">+lsp</span><span class="p">)</span>                   <span class="c1">; the hipster dialect</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(graphql +lsp)            ; Give queries a REST</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">haskell</span> <span class="nv">+lsp</span> <span class="nv">+tree-sitter</span><span class="p">)</span> <span class="c1">; a language that&#39;s lazier than I am</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;hy                        ; readability of scheme w/ speed of python</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;idris                     ; a language you can depend on</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">json</span> <span class="nv">+lsp</span> <span class="nv">+tree-sitter</span><span class="p">)</span>    <span class="c1">; At least it ain&#39;t XML</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">java</span> <span class="nv">+lsp</span><span class="p">)</span>                 <span class="c1">; the poster child for carpal tunnel syndrome</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">javascript</span> <span class="nv">+lsp</span><span class="p">)</span>           <span class="c1">; all(hope(abandon(ye(who(enter(here))))))</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;julia                     ; a better, faster MATLAB</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;kotlin                    ; a better, slicker Java(Script)</span>
</span></span><span class="line"><span class="cl"><span class="nv">latex</span>                       <span class="c1">; writing papers in Emacs has never been so fun</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;lean                      ; for folks with too much to prove</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;ledger                    ; be audit you can be</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;lua                       ; one-based indices? one-based indices</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">markdown</span> <span class="nv">+grip</span><span class="p">)</span>            <span class="c1">; writing docs for people to ignore</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;nim                       ; python + lisp at the speed of c</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;nix                       ; I hereby declare &#34;nix geht mehr!&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;ocaml                     ; an objective camel</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">org</span> <span class="nv">+dragdrop</span> <span class="nv">+gnuplot</span>     <span class="c1">; organize your plain life in plain text</span>
</span></span><span class="line"><span class="cl">     <span class="nv">+hugo</span> <span class="nv">+journal</span>
</span></span><span class="line"><span class="cl">     <span class="nv">+jupyter</span> <span class="nv">+noter</span>
</span></span><span class="line"><span class="cl">     <span class="nv">+pandoc</span> <span class="nv">+present</span>
</span></span><span class="line"><span class="cl">     <span class="nv">+pretty</span> <span class="nv">+roam2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;php                       ; perl&#39;s insecure younger brother</span>
</span></span><span class="line"><span class="cl"><span class="nv">plantuml</span>                    <span class="c1">; diagrams for confusing people more</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;purescript                ; javascript, but functional</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">python</span> <span class="nv">+lsp</span> <span class="nv">+pyright</span><span class="p">)</span>      <span class="c1">; beautiful is better than ugly</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;qt                        ; the &#39;cutest&#39; gui framework ever</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;racket                    ; a DSL for DSLs</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;raku                      ; the artist formerly known as perl6</span>
</span></span><span class="line"><span class="cl"><span class="nv">rest</span>                        <span class="c1">; Emacs as a REST client</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;rst                       ; ReST in peace</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(ruby +rails)             ; 1.step {|i| p &#34;Ruby is #{i.even? ? &#39;love&#39; : &#39;life&#39;}&#34;}</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">rust</span> <span class="nv">+lsp</span> <span class="nv">+tree-sitter</span><span class="p">)</span>    <span class="c1">; Fe2O3.unwrap().unwrap().unwrap().unwrap()</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;scala                     ; java, but good</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(scheme +guile)           ; a fully conniving family of lisps</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">sh</span> <span class="nv">+tree-sitter</span><span class="p">)</span>           <span class="c1">; she sells {ba,z,fi}sh shells on the C xor</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;sml</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;solidity                  ; do you need a blockchain? No.</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;swift                     ; who asked for emoji variables?</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;terra                     ; Earth and Moon in alignment for performance.</span>
</span></span><span class="line"><span class="cl"><span class="nv">web</span>                         <span class="c1">; the tubes</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;yaml                      ; JSON, but readable</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">zig</span> <span class="nv">+lsp</span><span class="p">)</span>                  <span class="c1">; C, but simpler</span>
</span></span></code></pre></div><h3 id="è¾“å…¥æ³•">è¾“å…¥æ³•</h3>
<p>å¢åŠ ä¸€äº›è¾“å…¥æ³•ï¼Œåœ¨ macOS ç³»ç»Ÿä¸‹åŸºæœ¬ä¸éœ€è¦ã€‚</p>
<p><a id="code-snippet--doom-input"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="c1">;;bidi                      ; (tfel ot) thgir etirw uoy gnipleh</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;chinese</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;japanese</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;layout                    ; auie,ctsrnm is the superior home row</span>
</span></span></code></pre></div><h3 id="ä¸‡èƒ½çš„-emacs">ä¸‡èƒ½çš„ Emacs</h3>
<p>æœ‰äººä¼šç”¨ Emacs æ¥åšä»»ä½•äº‹ï¼ŒåŒ…æ‹¬ç”µå­é‚®ä»¶ã€IRCã€RSS ç­‰ç­‰ï¼Œç”šè‡³å¬æ­Œçœ‹è§†é¢‘ï¼Œç›®å‰æˆ‘åªç”¨é‚®ä»¶ã€‚</p>
<p><a id="code-snippet--doom-email"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">:if</span> <span class="p">(</span><span class="nv">executable-find</span> <span class="s">&#34;mu&#34;</span><span class="p">)</span> <span class="p">(</span><span class="nv">mu4e</span> <span class="nv">+org</span> <span class="nv">+gmail</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;notmuch</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(wanderlust +gmail)</span>
</span></span></code></pre></div><p><a id="code-snippet--doom-app"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="c1">;;calendar</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;emms</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;everywhere                ; *leave* Emacs!? You must be joking</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;irc                       ; how neckbeards socialize</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(rss +org)                ; emacs as an RSS reader</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;twitter                   ; twitter client https://twitter.com/vnought</span>
</span></span></code></pre></div><h2 id="åŸºæœ¬è®¾ç½®">åŸºæœ¬è®¾ç½®</h2>
<p>è¿™é‡Œæ˜¯ä¸€äº›åªè¦ Emacs å¯åŠ¨å°±éœ€è¦å°½å¿«è®¾ç½®çš„å†…å®¹ï¼Œä¸éœ€è¦è€ƒè™‘å»¶è¿ŸåŠ è½½çš„ä¸€äº›è®¾ç½®ï¼ŒåŒ…æ‹¬ä¸€äº› Emacs æœ¬èº«çš„å…¨å±€è®¾ç½®ï¼Œä¹ŸåŒ…æ‹¬ä¸€äº›éœ€è¦å°½å¿«åŠ è½½çš„æ¨¡å—å’ŒåŒ…çš„åŸºæœ¬è®¾ç½®ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="c1">;;; config.el -*- lexical-binding: t; -*-</span>
</span></span></code></pre></div><h3 id="ä¸ªäººä¿¡æ¯">ä¸ªäººä¿¡æ¯</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nf">user-full-name</span> <span class="s">&#34;Neo Lee&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="nv">user-mail-address</span> <span class="s">&#34;neo@soulhacker.me&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="æ›´å¥½çš„ç¼ºçœå€¼">æ›´å¥½çš„ç¼ºçœå€¼</h3>
<p>Doom å¤§éƒ¨åˆ†çš„ç¼ºçœé…ç½®éƒ½æ˜¯ä¼˜åŒ–ä¸”å®ç”¨çš„ï¼Œä½†è¿˜æ˜¯æœ‰å°‘é‡çš„éœ€è¦ä¿®æ”¹ã€‚å…¶ä¸­ <code>word-wrap-by-category</code> è¿™ä¸ªé€‰é¡¹æ˜¯ Emacs 28 æ–°åŠ çš„ï¼Œä¿®å¤äº† CJK è¯­è¨€æ–‡æœ¬è‡ªåŠ¨æ¢è¡Œçš„è€ bugã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq-default</span>
</span></span><span class="line"><span class="cl"> <span class="nv">window-combination-resize</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl"> <span class="nv">x-stretch-cursor</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl"> <span class="nv">yas-triggers-in-field</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl"> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span>
</span></span><span class="line"><span class="cl"> <span class="nv">undo-limit</span> <span class="mi">80000000</span>
</span></span><span class="line"><span class="cl"> <span class="nv">auto-save-default</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl"> <span class="nv">scroll-preserve-screen-position</span> <span class="ss">&#39;always</span>
</span></span><span class="line"><span class="cl"> <span class="nv">scroll-margin</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"> <span class="nv">word-wrap-by-category</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl"> <span class="nv">all-the-icons-scale-factor</span> <span class="mf">1.0</span>
</span></span><span class="line"><span class="cl"> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">global-subword-mode</span> <span class="no">t</span><span class="p">)</span>
</span></span></code></pre></div><p>å› ä¸ºæˆ‘ä¸ç”¨ <code>evil</code> æ‰€ä»¥éœ€è¦ç»™ <em>local leader</em> ä¸€ä¸ªæ–¹ä¾¿çš„ç»„åˆé”®ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">map!</span> <span class="s">&#34;C-z&#34;</span> <span class="no">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">doom-localleader-alt-key</span> <span class="s">&#34;C-z&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>å¦‚æœæƒ³æ˜¾ç¤ºè¡Œå·ï¼Œå°†è¿™ä¸¤ä¸ªå˜é‡è®¾ä¸º <code>t</code> ï¼›å¦‚æœæƒ³æ˜¾ç¤ºç›¸å¯¹è¡Œå·ï¼Œå°†ç¬¬äºŒä¸ªå˜é‡å€¼è®¾ä¸º <code>'relative</code> æˆ– <code>'visual</code> ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">display-line-numbers</span> <span class="no">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">display-line-numbers-type</span> <span class="no">nil</span><span class="p">)</span>
</span></span></code></pre></div><p>Org çš„æ ¹ç›®å½•éœ€è¦å°½æ—©è®¾ç½®ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">org-directory</span> <span class="s">&#34;~/Code/Org/&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>ç¼ºçœé…ç½®ä¸‹ <code>treemacs</code> åªä¼šæ˜¾ç¤ºæ–‡ä»¶çš„ <code>git</code> çŠ¶æ€ï¼Œæ”¹ä¸º <code>'extended</code> å¯ä»¥æ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•çš„çŠ¶æ€ï¼Œå¦ä¸€ä¸ªé€‰é¡¹ <code>'deferred</code> ä¼¼ä¹æœ‰é—®é¢˜ï¼›è¿™ä¸ªé€‰é¡¹è¦åœ¨ <code>treemacs</code> åŠ è½½å‰è®¾ç½®ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">+treemacs-git-mode</span> <span class="ss">&#39;extended</span><span class="p">)</span>
</span></span></code></pre></div><p>è¿™ä¸ªå¼€å…³å¯ä»¥è®© <code>treemacs</code> å°†ç©ºç›®å½•å°½å¯èƒ½åˆå¹¶ä¸ºä¸€é¡¹æ¥æ˜¾ç¤ºï¼Œæ•°å€¼ä»£è¡¨åŒæ—¶èƒ½åˆå¹¶æ˜¾ç¤ºçš„ç›®å½•æ•°ä¸Šé™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">treemacs</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">treemacs-collapse-dirs</span> <span class="mi">200</span><span class="p">))</span>
</span></span></code></pre></div><p>å¦å¤–æˆ‘ä»¬ä¹ æƒ¯è‡ªåŠ¨æ‰“å¼€ <code>treemacs</code> ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;window-setup-hook</span> <span class="nf">#&#39;</span><span class="nv">treemacs</span> <span class="ss">&#39;append</span><span class="p">)</span>
</span></span></code></pre></div><p>ä½¿ç”¨ PlantUML ç”¨æœ¬åœ°æ¨¡å¼æ¯”è¾ƒé è°±ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">plantuml-jar-path</span> <span class="p">(</span><span class="nf">concat</span> <span class="p">(</span><span class="nf">expand-file-name</span> <span class="nv">user-emacs-directory</span><span class="p">)</span> <span class="s">&#34;plantuml/plantuml.jar&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="nv">plantuml-default-exec-mode</span> <span class="ss">&#39;jar</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="éå›¾å½¢ç•Œé¢ä¸‹è¿è¡Œ">éå›¾å½¢ç•Œé¢ä¸‹è¿è¡Œ</h3>
<p>æœ‰æ—¶æˆ‘ä»¬æ— æ³•åœ¨å›¾å½¢ç•Œé¢ä¸‹è¿è¡Œ Emacsï¼Œè¿™æ—¶å°±éœ€è¦ä¸‹é¢è¿™äº› <em>tweak</em> ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nv">display-graphic-p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">map!</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-c b&#34;</span> <span class="ss">&#39;treemacs-select-window</span>
</span></span><span class="line"><span class="cl">   <span class="p">[</span><span class="nv">mouse-4</span><span class="p">]</span> <span class="ss">&#39;scroll-down-line</span>
</span></span><span class="line"><span class="cl">   <span class="p">[</span><span class="nv">mouse-5</span><span class="p">]</span> <span class="ss">&#39;scroll-up-line</span><span class="p">))</span>
</span></span></code></pre></div><h3 id="å­—ä½“å’Œä¸»é¢˜">å­—ä½“å’Œä¸»é¢˜</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">+main-font</span> <span class="s">&#34;Iosevka Fixed&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">+unicode-font</span> <span class="s">&#34;Sarasa Fixed SC&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">doom-font</span> <span class="p">(</span><span class="nf">font-spec</span> <span class="nb">:family</span> <span class="nv">+main-font</span> <span class="nb">:size</span> <span class="mi">16</span> <span class="nb">:weight</span> <span class="ss">&#39;light</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="nv">doom-big-font</span> <span class="p">(</span><span class="nf">font-spec</span> <span class="nb">:family</span> <span class="nv">+main-font</span> <span class="nb">:size</span> <span class="mi">20</span> <span class="nb">:weight</span> <span class="ss">&#39;light</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="nv">doom-variable-pitch-font</span> <span class="p">(</span><span class="nf">font-spec</span> <span class="nb">:family</span> <span class="nv">+main-font</span><span class="p">)</span> <span class="c1">;; inherits :size from doom-font</span>
</span></span><span class="line"><span class="cl">      <span class="nv">doom-serif-font</span> <span class="p">(</span><span class="nf">font-spec</span> <span class="nb">:family</span> <span class="nv">+main-font</span> <span class="nb">:weight</span> <span class="ss">&#39;light</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="nv">doom-unicode-font</span> <span class="p">(</span><span class="nf">font-spec</span> <span class="nb">:family</span> <span class="nv">+unicode-font</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">doom-themes-enable-bold</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">      <span class="nv">doom-themes-enable-italic</span> <span class="no">t</span><span class="p">)</span>
</span></span></code></pre></div><p>éšç³»ç»Ÿåˆ‡æ¢ light å’Œ dark mode ä¸»é¢˜ï¼Œåˆ©ç”¨ macOS ä¸‹ <code>emacs-plus</code> å¢åŠ çš„ <code>ns-system-appearance-change-functions</code> é’©å­æ¥å®ç°ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="c1">;; (setq +light-theme &#39;doom-one-light</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;       +dark-theme &#39;doom-vibrant)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; (setq +light-theme &#39;modus-operandi</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;       +dark-theme &#39;modus-vivendi)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; (setq +light-theme &#39;doom-acario-light</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;       +dark-theme &#39;doom-acario-dark)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">+light-theme</span> <span class="ss">&#39;doom-flatwhite</span>
</span></span><span class="line"><span class="cl">      <span class="nv">+dark-theme</span> <span class="ss">&#39;doom-city-lights</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; (setq +light-theme &#39;doom-opera-light</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;       +dark-theme &#39;doom-opera)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; (setq +light-theme &#39;doom-nord-light</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;       +dark-theme &#39;doom-nord)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">+apply-theme</span> <span class="p">(</span><span class="nv">appearance</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Load theme, taking current system APPEARANCE into consideration.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nf">mapc</span> <span class="nf">#&#39;</span><span class="nv">disable-theme</span> <span class="nv">custom-enabled-themes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">pcase</span> <span class="nv">appearance</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="ss">&#39;light</span> <span class="p">(</span><span class="nv">load-theme</span> <span class="nv">+light-theme</span> <span class="no">t</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="ss">&#39;dark</span> <span class="p">(</span><span class="nv">load-theme</span> <span class="nv">+dark-theme</span> <span class="no">t</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook!</span> <span class="ss">&#39;ns-system-appearance-change-functions</span> <span class="ss">&#39;+apply-theme</span><span class="p">)</span>
</span></span></code></pre></div><p>å…¶ä»–å…³è”ä¸»é¢˜å’Œå­—ä½“è®¾ç½®ï¼Œ <code>treemacs</code> é€‚é… <code>nerd-icons</code> ä¼¼ä¹å·²ç»åˆå¹¶è¿› Doom ï¼Œä¸å†éœ€è¦æ‰‹åŠ¨è®¾ç½®ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">doom-themes-org-config</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;;(after! treemacs</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;  :config</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;  (doom-themes-treemacs-config)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;  (treemacs-load-theme &#34;nerd-icons&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;  )</span>
</span></span></code></pre></div><h3 id="çŠ¶æ€æ¡">çŠ¶æ€æ¡</h3>
<p>Doom ç¼ºçœçš„çŠ¶æ€æ¡æ˜¯ <code>doom-modeline</code> ï¼Œå¯èƒ½æ˜¯å‡ ä¸ªçŠ¶æ€æ¡æ–¹æ¡ˆé‡Œæœ€æ¼‚äº®çš„ä¸€ä¸ªï¼Œä¸è¿‡è¿™é—®é¢˜è§ä»è§æ™ºï¼Œé€‰è‡ªå·±å–œæ¬¢çš„å°±å¥½ã€‚ç›®å‰ç‰ˆæœ¬ç¼ºçœé…ç½®å°±æŒºå¥½ï¼Œä»¥å‰çš„ <em>hacking</em> éƒ½è¢«æˆ‘åˆ äº†ã€‚</p>
<h3 id="åˆ‡æ¢çª—å£">åˆ‡æ¢çª—å£</h3>
<p>é¢„åˆ¶æ¨¡å— <code>ace-window</code> åŠ å¼ºäº† <code>C-x o</code> çš„åŠŸèƒ½ï¼Œå½“å¤šäº2ä¸ªçª—å£æ—¶ä¼šé«˜äº®æ˜¾ç¤ºæ¯ä¸ªçª—å£å·¦ä¸Šè§’çš„ä¸€ä¸ªå­—æ¯ï¼ŒæŒ‰ä¸‹è¿™ä¸ªå­—æ¯å°±åˆ‡æ¢åˆ°å¯¹åº”çª—å£ï¼Œä½†è¿™ä¸ªå­—æ¯çš„æ˜¾ç¤ºéå¸¸å°ï¼Œå¾ˆä¸é†’ç›®ï¼Œè§£å†³æ–¹æ¡ˆå¾ˆç®€å•ï¼Œå®šåˆ¶è¿™ä¸ªå­—æ¯æ˜¾ç¤ºçš„æ ·å¼ï¼ŒæŠŠå®ƒå˜å¤§å†åŠ ä¸Šçº¢è‰²åº•ï¼Œå°±é†’ç›®äº†ã€‚ <code>ace-window</code> è¿˜æœ‰ä¸å°‘åˆ«çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ¿€æ´»ä¹‹åå¯ä»¥æŒ‰ <code>x</code> æ¥åˆ é™¤å½“å‰çª—å£ï¼ŒæŒ‰ <code>m</code> æ¥ä¸é€‰æ‹©çš„çª—å£äº¤æ¢å†…å®¹ç­‰ï¼Œå…·ä½“å¯å‚è€ƒ<a href="https://github.com/abo-abo/ace-window">å®˜ç½‘è¯´æ˜</a>ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">custom-set-faces!</span>
</span></span><span class="line"><span class="cl">  <span class="o">&#39;</span><span class="p">(</span><span class="nv">aw-leading-char-face</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:foreground</span> <span class="s">&#34;white&#34;</span> <span class="nb">:background</span> <span class="s">&#34;red&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:weight</span> <span class="nv">bold</span> <span class="nb">:height</span> <span class="mf">1.5</span> <span class="nb">:box</span> <span class="p">(</span><span class="nb">:line-width</span> <span class="mi">10</span> <span class="nb">:color</span> <span class="s">&#34;red&#34;</span><span class="p">)))</span>
</span></span></code></pre></div><h3 id="èŠ±å¼ç¬¦å·">èŠ±å¼ç¬¦å·</h3>
<p>é¢„åˆ¶æ¨¡å— <code>ligature</code> åŠå…¶ <code>+extra</code> é€‰é¡¹ä¼šç”¨ä¸€äº›æ¼‚äº®çš„æ–‡å­—ç¬¦å·æ¥æ›¿ä»£ä¸€äº›å›ºå®šæ–‡æœ¬ç»„åˆï¼Œæ¯”å¦‚ç”¨ <code>Î»</code> ä»£æ›¿ Lisp ç±»è¯­è¨€é‡Œçš„ <code>lambda</code> å’Œ <code>fn</code> å…³é”®å­—ï¼Œç”¨ <code>ğ’‡</code> ä»£æ›¿ <code>function</code> å…³é”®å­—ï¼Œç”¨ <code>âŸ»</code> ä»£æ›¿ <code>import</code> å…³é”®å­—ç­‰ï¼Œæ²¡å•¥ç”¨å°±å›¾ä¸ªä¹ï¼Œä¸è¿‡åœ¨æŸäº›è¯­è¨€é‡Œè¿™ä¸ªç©æ„å„¿ä¼šå½±å“ç†è§£å’Œç¼–ç ï¼Œæ‰€ä»¥å¯¹è¿™äº›è¯­è¨€ç¦ç”¨æ‰æ˜¯ä¸ªæ˜æ™ºé€‰æ‹©ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">+appened-to-negation-list</span> <span class="p">(</span><span class="nv">head</span> <span class="nv">tail</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">sequencep</span> <span class="nv">head</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">delete-dups</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">eq</span> <span class="p">(</span><span class="nf">car</span> <span class="nv">tail</span><span class="p">)</span> <span class="ss">&#39;not</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nf">append</span> <span class="nv">head</span> <span class="nv">tail</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nf">append</span> <span class="nv">tail</span> <span class="nv">head</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="nv">tail</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">modulep!</span> <span class="nb">:ui</span> <span class="nv">ligatures</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">+ligatures-extras-in-modes</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">+appened-to-negation-list</span>
</span></span><span class="line"><span class="cl">         <span class="nv">+ligatures-extras-in-modes</span>
</span></span><span class="line"><span class="cl">         <span class="o">&#39;</span><span class="p">(</span><span class="nv">not</span> <span class="nv">c-mode</span> <span class="nv">c++-mode</span> <span class="nv">emacs-lisp-mode</span> <span class="nv">python-mode</span> <span class="nv">scheme-mode</span> <span class="nv">racket-mode</span> <span class="nv">rust-mode</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">+ligatures-in-modes</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">+appened-to-negation-list</span>
</span></span><span class="line"><span class="cl">         <span class="nv">+ligatures-in-modes</span>
</span></span><span class="line"><span class="cl">         <span class="o">&#39;</span><span class="p">(</span><span class="nv">not</span> <span class="nv">emacs-lisp-mode</span> <span class="nv">scheme-mode</span> <span class="nv">racket-mode</span><span class="p">))))</span>
</span></span></code></pre></div><h3 id="è¯­è¨€æœåŠ¡å™¨">è¯­è¨€æœåŠ¡å™¨</h3>
<p>Emacs æ”¯æŒå¾®è½¯å¼€æºçš„ LSP æ¥å£ä»¥åŠå„ç§å„æ ·çš„è¯­è¨€æœåŠ¡å™¨æ—¶é—´è¿˜ä¸é•¿ï¼Œé—®é¢˜ä¹Ÿæœ‰ä¸€äº›ï¼Œä¸è¿‡æœªæ¥å¯æœŸã€‚ <code>lsp-ui</code> æä¾›äº†å¤§é‡çš„å®šåˆ¶é€‰é¡¹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">lsp</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:custom</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">lsp-log-io</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">        <span class="nv">lsp-print-io</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">        <span class="nv">lsp-document-sync-method</span> <span class="ss">&#39;incremental</span> <span class="c1">; none, full, incremental, or nil</span>
</span></span><span class="line"><span class="cl">        <span class="nv">lsp-response-timeout</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:hook</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">lsp-mode</span> <span class="o">.</span> <span class="nv">lsp-ui-mode</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">lsp-ui</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:custom</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span>
</span></span><span class="line"><span class="cl">   <span class="c1">; lsp-enable-symbol-highlighting nil</span>
</span></span><span class="line"><span class="cl">   <span class="c1">; lsp-lens-enable nil</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-headerline-breadcrumb-enable</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">   <span class="c1">; lsp-diagnostics-provider :none</span>
</span></span><span class="line"><span class="cl">   <span class="c1">; lsp-completion-provider :none</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-enable</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-show-with-mouse</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-show-with-cursor</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-header</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-include-signature</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-position</span> <span class="ss">&#39;at-point</span> <span class="c1">;; top, bottom, or at-point</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-max-width</span> <span class="mi">120</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-max-height</span> <span class="mi">30</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-use-childframe</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-doc-use-webkit</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-sideline-enable</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-sideline-show-code-actions</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-sideline-show-hover</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-sideline-ignore-duplicate</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-sideline-show-symbol</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-sideline-show-diagnostics</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-peek-enable</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-peek-fontify</span> <span class="ss">&#39;on-demand</span> <span class="c1">;; never, on-demand, or always</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-imenu-enable</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">   <span class="nv">lsp-ui-imenu-kind-position</span> <span class="ss">&#39;top</span>
</span></span><span class="line"><span class="cl">   <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:preface</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">defun</span> <span class="nv">+toggle-lsp-ui-doc</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">if</span> <span class="nv">lsp-ui-doc-mode</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">progn</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">lsp-ui-doc-mode</span> <span class="mi">-1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">lsp-ui-doc-hide</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">progn</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">lsp-ui-doc-mode</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">lsp-ui-doc-show</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:bind</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">map!</span> <span class="nb">:map</span> <span class="nv">lsp-mode-map</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s">&#34;C-c l r&#34;</span> <span class="nf">#&#39;</span><span class="nv">lsp-ui-peek-find-references</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s">&#34;C-c l j&#34;</span> <span class="nf">#&#39;</span><span class="nv">lsp-ui-peek-find-definitions</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s">&#34;C-c l i&#34;</span> <span class="nf">#&#39;</span><span class="nv">lsp-ui-peek-find-implementation</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s">&#34;C-c l m&#34;</span> <span class="nf">#&#39;</span><span class="nv">lsp-ui-imenu</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s">&#34;C-c l s&#34;</span> <span class="nf">#&#39;</span><span class="nv">lsp-ui-sideline-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s">&#34;C-c l d&#34;</span> <span class="nf">#&#39;</span><span class="nv">+toggle-lsp-ui-doc</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><p>ä½¿ç”¨ <a href="https://github.com/blahgeek/emacs-lsp-booster">lsp-booster</a> æ¥ä¼˜åŒ–è¯­è¨€æœåŠ¡å™¨è§£æ JSON æ•°æ®çš„æ€§èƒ½ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">lsp-booster--advice-json-parse</span> <span class="p">(</span><span class="nv">old-fn</span> <span class="kp">&amp;rest</span> <span class="nv">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Try to parse bytecode instead of json.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">or</span>
</span></span><span class="line"><span class="cl">   <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nf">equal</span> <span class="p">(</span><span class="nf">following-char</span><span class="p">)</span> <span class="sc">?#</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">bytecode</span> <span class="p">(</span><span class="nf">read</span> <span class="p">(</span><span class="nf">current-buffer</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nf">byte-code-function-p</span> <span class="nv">bytecode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nf">funcall</span> <span class="nv">bytecode</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">   <span class="p">(</span><span class="nf">apply</span> <span class="nv">old-fn</span> <span class="nv">args</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">advice-add</span> <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nb">progn</span> <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;json</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                       <span class="p">(</span><span class="nf">fboundp</span> <span class="ss">&#39;json-parse-buffer</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="ss">&#39;json-parse-buffer</span>
</span></span><span class="line"><span class="cl">              <span class="ss">&#39;json-read</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nb">:around</span>
</span></span><span class="line"><span class="cl">            <span class="nf">#&#39;</span><span class="nv">lsp-booster--advice-json-parse</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">lsp-booster--advice-final-command</span> <span class="p">(</span><span class="nv">old-fn</span> <span class="nv">cmd</span> <span class="kp">&amp;optional</span> <span class="nv">test?</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Prepend emacs-lsp-booster command to lsp CMD.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">orig-result</span> <span class="p">(</span><span class="nf">funcall</span> <span class="nv">old-fn</span> <span class="nv">cmd</span> <span class="nv">test?</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">not</span> <span class="nv">test?</span><span class="p">)</span>                             <span class="c1">;; for check lsp-server-present?</span>
</span></span><span class="line"><span class="cl">             <span class="p">(</span><span class="nv">not</span> <span class="p">(</span><span class="nv">file-remote-p</span> <span class="nv">default-directory</span><span class="p">))</span> <span class="c1">;; see lsp-resolve-final-command, it would add extra shell wrapper</span>
</span></span><span class="line"><span class="cl">             <span class="nv">lsp-use-plists</span>
</span></span><span class="line"><span class="cl">             <span class="p">(</span><span class="nv">not</span> <span class="p">(</span><span class="nf">functionp</span> <span class="ss">&#39;json-rpc-connection</span><span class="p">))</span>  <span class="c1">;; native json-rpc</span>
</span></span><span class="line"><span class="cl">             <span class="p">(</span><span class="nv">executable-find</span> <span class="s">&#34;emacs-lsp-booster&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">progn</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">when-let</span> <span class="p">((</span><span class="nv">command-from-exec-path</span> <span class="p">(</span><span class="nv">executable-find</span> <span class="p">(</span><span class="nf">car</span> <span class="nv">orig-result</span><span class="p">))))</span>  <span class="c1">;; resolve command from exec-path (in case not found in $PATH)</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nf">setcar</span> <span class="nv">orig-result</span> <span class="nv">command-from-exec-path</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;Using emacs-lsp-booster for %s!&#34;</span> <span class="nv">orig-result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nf">cons</span> <span class="s">&#34;emacs-lsp-booster&#34;</span> <span class="nv">orig-result</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="nv">orig-result</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">advice-add</span> <span class="ss">&#39;lsp-resolve-final-command</span> <span class="nb">:around</span> <span class="nf">#&#39;</span><span class="nv">lsp-booster--advice-final-command</span><span class="p">)</span>
</span></span></code></pre></div><p>é’ˆå¯¹å…·ä½“è¯­è¨€çš„ä¸€äº›é…ç½®ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook!</span> <span class="ss">&#39;js-mode-hook</span> <span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;flycheck-disabled-checkers</span> <span class="ss">&#39;lsp</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">lsp-javascript-validate-enable</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">      <span class="nv">lsp-javascript-suggest-enabled</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">      <span class="nv">lsp-javascript-suggestion-actions-enabled</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">      <span class="nv">lsp-pyright-langserver-command</span> <span class="s">&#34;basedpyright&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="nv">lsp-zig-zls-executable</span> <span class="s">&#34;~/Code/Repo/zls/zig-out/bin/zls&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="æ‹¼å†™æ£€æŸ¥">æ‹¼å†™æ£€æŸ¥</h3>
<p>æ— è®ºä½¿ç”¨ <code>spell-fu</code> è¿˜æ˜¯ <code>flyspell</code> éƒ½éœ€è¦é…ç½®ä¸ªäººè¯æ±‡è¡¨çš„ä¿å­˜ä½ç½®ï¼Œæˆ‘éƒ½æ”¾åœ¨ <code>doom-user-dir</code> ç›®å½•ä¸‹äº†ã€‚å¦å¤– <code>flyspell</code> æ¿€æ´»é”™è¯ä¿®æ”¹èœå•çš„ç¼ºçœæ“ä½œæ˜¯é¼ æ ‡ä¸­é”®ï¼ˆæ»šè½®ï¼‰ï¼ŒMacBook ä¸Šæ²¡è¿™ç©æ„å„¿å•Šï¼Œæ‰€ä»¥æˆ‘ç»™æ”¹æˆ <code>Command+é¼ æ ‡ä¸»é”®</code> äº†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">spell-fu</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">defun</span> <span class="nv">+spell-fu-register-dictionary</span> <span class="p">(</span><span class="nv">lang</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Add `LANG` to spell-fu multi-dict, with a personal dictionary.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">;; Add the dictionary</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">spell-fu-dictionary-add</span> <span class="p">(</span><span class="nv">spell-fu-get-ispell-dictionary</span> <span class="nv">lang</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">personal-dict-file</span> <span class="p">(</span><span class="nf">expand-file-name</span> <span class="p">(</span><span class="nf">format</span> <span class="s">&#34;aspell.%s.pws&#34;</span> <span class="nv">lang</span><span class="p">)</span> <span class="nv">doom-user-dir</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;; Create an empty personal dictionary if it doesn&#39;t exists</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nf">file-exists-p</span> <span class="nv">personal-dict-file</span><span class="p">)</span> <span class="p">(</span><span class="nf">write-region</span> <span class="s">&#34;&#34;</span> <span class="no">nil</span> <span class="nv">personal-dict-file</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;; Add the personal dictionary</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">spell-fu-dictionary-add</span> <span class="p">(</span><span class="nv">spell-fu-get-personal-dictionary</span> <span class="p">(</span><span class="nf">format</span> <span class="s">&#34;%s-personal&#34;</span> <span class="nv">lang</span><span class="p">)</span> <span class="nv">personal-dict-file</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">add-hook!</span> <span class="ss">&#39;spell-fu-mode-hook</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">+spell-fu-register-dictionary</span> <span class="s">&#34;en&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">flyspell</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">ispell-personal-dictionary</span> <span class="p">(</span><span class="nf">expand-file-name</span> <span class="s">&#34;aspell.pws&#34;</span> <span class="nv">doom-user-dir</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:bind</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">map!</span>
</span></span><span class="line"><span class="cl">   <span class="p">[</span><span class="nv">s-down-mouse-1</span><span class="p">]</span> <span class="ss">&#39;flyspell-correct-word</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><h3 id="ç”µå­é‚®ä»¶">ç”µå­é‚®ä»¶</h3>
<p>åœ¨é…ç½®å¥½ <code>isync</code> å’Œ <code>mu</code> ä¹‹åï¼ˆæ¯”è¾ƒ tricky çš„éƒ¨åˆ†æ˜¯ä½¿ç”¨ GnuPG æ¥åŠ å¯†å¯†ç ï¼Œå¯ä»¥å‚è€ƒ<a href="https://f-santos.gitlab.io/2020-04-24-mu4e.html">è¿™ç¯‡</a>ä»¥åŠ<a href="https://gist.github.com/koshatul/2427643668d4e89c0086f297f9ed2130">è¿™ç¯‡</a>ï¼‰ï¼Œåœ¨ Emacs ä¸­ä½¿ç”¨ <code>mu4e</code> å°±å¾ˆç®€å•äº†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">set-email-account!</span> <span class="s">&#34;neo&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">&#39;</span><span class="p">((</span><span class="nv">mu4e-sent-folder</span>       <span class="o">.</span> <span class="s">&#34;/neo/Sent&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">mu4e-drafts-folder</span>     <span class="o">.</span> <span class="s">&#34;/neo/Drafts&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">mu4e-trash-folder</span>      <span class="o">.</span> <span class="s">&#34;/neo/Trash&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">mu4e-refile-folder</span>     <span class="o">.</span> <span class="s">&#34;/neo/All Mail&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">smtpmail-smtp-user</span>     <span class="o">.</span> <span class="s">&#34;neo@soulhacker.me&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">user-mail-address</span>      <span class="o">.</span> <span class="s">&#34;neo@soulhacker.me&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">mu4e-compose-signature</span> <span class="o">.</span> <span class="s">&#34;--\nNeo Lee a.k.a. soulhacker&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">send-mail-function</span> <span class="ss">&#39;smtpmail-send-it</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">smtpmail-smtp-server</span> <span class="s">&#34;localhost&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">smtpmail-smtp-service</span> <span class="mi">1025</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">smtpmail-stream-type</span> <span class="ss">&#39;starttls</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">org-msg-signature</span> <span class="s">&#34;\n#+begin_signature\n--\nNeo Lee a.k.a. soulhacker\n#+end_signature&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">mu4e</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">mu4e-headers-auto-update</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">        <span class="nv">mu4e-update-interval</span> <span class="mi">120</span>
</span></span><span class="line"><span class="cl">        <span class="nv">mu4e-view-show-images</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">        <span class="nv">mu4e-use-fancy-chars</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><h2 id="è¡¥å……è½¯ä»¶åŒ…">è¡¥å……è½¯ä»¶åŒ…</h2>
<p>Doom çš„ç¼ºçœé…ç½®å’Œé¢„åˆ¶æ¨¡å—èƒ½è¦†ç›–æˆ‘ç»å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œæ‰€ä»¥éœ€è¦æˆ‘å¦å¤–æ·»åŠ çš„è½¯ä»¶åŒ…å¾ˆå°‘ï¼Œè¿™äº›è½¯ä»¶åŒ…éœ€è¦å†™åœ¨ <code>packages.el</code> é‡Œã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="c1">;;; packages.el -*- no-byte-compile: t; -*-</span>
</span></span></code></pre></div><h3 id="çª—å£ç§»åŠ¨">çª—å£ç§»åŠ¨</h3>
<p>ç”¨å¿«æ·é”®å¿«é€Ÿåœ¨å‡ ä¸ªçª—å£é—´äº¤æ¢ bufferï¼Œæ¯”å¦‚åŒæ—¶æ‰“å¼€ <code>.c</code> å’Œ <code>.h</code> æ–‡ä»¶ï¼Œå…ˆåœ¨å·¦è¾¹çª—å£ç¼–è¾‘ <code>.h</code> æ–‡ä»¶ï¼Œç„¶åæŠŠå³è¾¹çª—å£çš„ <code>.c</code> æ–‡ä»¶æ¢è¿‡æ¥è¿›è¡Œç¼–è¾‘ï¼Œä½¿ç”¨è¿™ä¸ªåŒ…ç”¨ä¸€ä¸ªç»„åˆé”®å°±èƒ½åšåˆ°ã€‚å…¶å®é¢„åˆ¶æ¨¡å—é‡Œçš„ <code>ace-window</code> ä¹Ÿå¯ä»¥åšç±»ä¼¼çš„äº‹æƒ…ï¼Œä½† <code>buffer-mover</code> ä¸€ä¸ªæŒ‰é”®æå®šæ›´å¿«ã€‚è¿™é‡Œæˆ‘ç”¨ <code>:recipe</code> å­å¥æ¥ç¦ç”¨è¿™ä¸ªåŒ…çš„ç¼–è¯‘ï¼Œå› ä¸ºè¿™ä¸ªåŒ…æœ‰ä¸ª bugï¼Œç¼–è¯‘åä¼šæŠ¥é”™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">buffer-move</span> <span class="nb">:recipe</span> <span class="p">(</span><span class="nb">:build</span> <span class="p">(</span><span class="nb">:not</span> <span class="nv">compile</span><span class="p">)))</span>
</span></span></code></pre></div><p>å®‰è£…å’Œå¯ç”¨ä¹‹åï¼Œåœ¨ <code>config.el</code> é‡Œé…ç½®è‡ªå·±ä¹ æƒ¯çš„æŒ‰é”®ç»„åˆï¼ˆæˆ‘ç”¨ <code>Control+Command+æ–¹å‘é”®</code> ï¼‰ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">map!</span>
</span></span><span class="line"><span class="cl"> <span class="p">[</span><span class="nv">C-s-up</span><span class="p">]</span>        <span class="nf">#&#39;</span><span class="nv">buf-move-up</span>
</span></span><span class="line"><span class="cl"> <span class="p">[</span><span class="nv">C-s-down</span><span class="p">]</span>      <span class="nf">#&#39;</span><span class="nv">buf-move-down</span>
</span></span><span class="line"><span class="cl"> <span class="p">[</span><span class="nv">C-s-left</span><span class="p">]</span>      <span class="nf">#&#39;</span><span class="nv">buf-move-left</span>
</span></span><span class="line"><span class="cl"> <span class="p">[</span><span class="nv">C-s-right</span><span class="p">]</span>     <span class="nf">#&#39;</span><span class="nv">buf-move-right</span>
</span></span><span class="line"><span class="cl"> <span class="p">)</span>
</span></span></code></pre></div><h3 id="é”å®šå¯é ç‰ˆæœ¬">é”å®šå¯é ç‰ˆæœ¬</h3>
<p>ç¼ºçœçš„ <em>Doom Emacs</em> æœ‰ç€è¿‡äºæ¿€è¿›çš„ç‰ˆæœ¬è·Ÿè¿›ç­–ç•¥ï¼Œæœ‰äº›åŒ…çš„ <em>master</em> åˆ†æ”¯å¹¶ä¸å¯ä¿¡ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜æˆ‘ä»¬éœ€è¦é”å®šåœ¨å¯é çš„ç‰ˆæœ¬ä¸Šã€‚</p>
<h4 id="org-mode"><code>org-mode</code></h4>
<p>æœ€æ–°çš„ <code>org-mode</code> <em>9.7</em> å¼€å‘åˆ†æ”¯æœ‰ä¸å°‘é—®é¢˜ï¼Œè€Œ <em>Doom Emacs</em> ç¼ºçœä¼šè·Ÿç€ <code>org-mode</code> çš„ <em>master</em> åˆ†æ”¯ï¼Œç»å¸¸ä¼šç ´åä¸€äº›æœ¬æ¥æ­£å¸¸å·¥ä½œçš„è½¯ä»¶åŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›®å‰éœ€è¦é”åœ¨ <em>9.6</em> æœ€æ–°ç¨³å®šç‰ˆæœ¬ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">org</span> <span class="nb">:pin</span> <span class="s">&#34;071c6e986c424d2e496be7d0815d6e9cd83ae4e6&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>æ·»åŠ å¦å¤–ä¸€äº›ä¸ <code>org-mode</code> ç›¸å…³çš„è½¯ä»¶åŒ…ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">jupyter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">ox-hugo</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="çŸ¥è¯†ç½‘ç»œ">çŸ¥è¯†ç½‘ç»œ</h3>
<p><code>org-roam-ui</code> <a href="https://github.com/org-roam/org-roam-ui">â†’</a> æä¾›å¼ºå¤§çš„çŸ¥è¯†ç½‘ç»œç¬”è®°ç³»ç»Ÿ <code>org-roam</code> çš„ç½‘ç»œå¯è§†åŒ–ï¼Œå¹¶å¯ä¸ <code>org-roam</code> ç´§å¯†æ•´åˆã€‚æ³¨æ„ <code>org-roam-ui</code> åªæ”¯æŒ <code>org-roam v2</code> ï¼Œå¦‚æœä½¿ç”¨ <code>org-roam v1</code> çš„è¯è¯·ç”¨ <code>org-roam-server</code> <a href="https://github.com/org-roam/org-roam-server">â†’</a>ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">org-roam-ui</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="å…¬å¼é¢„è§ˆ">å…¬å¼é¢„è§ˆ</h3>
<p><code>xenops</code> å’Œ <code>org-fragtog</code> éƒ½æ˜¯ç”¨æ¥åœ¨ <code>org-mode</code> é‡Œå®æ—¶æ¸²æŸ“æ˜¾ç¤º \(LaTeX\) å…¬å¼çš„ï¼Œå®ƒä»¬éƒ½ä¼šå®æ—¶å°†å…¬å¼æ¸²æŸ“ä¸ºå›¾ç‰‡ï¼ˆå‰è€…ç”¨ SVG æ ¼å¼ï¼Œåè€…ç”¨ PNG æ ¼å¼ï¼‰å¹¶ç¼“å­˜ï¼Œç„¶åæ˜¾ç¤ºå‡ºæ¥ï¼ŒåŒºåˆ«åœ¨äº <code>org-fragtog</code> æ˜¯åŒæ­¥æ¨¡å¼ï¼Œæ¸²æŸ“æ—¶ä¼šå¡ä½ Emacsï¼Œç­‰å®ƒå¥½äº†ä½ æ‰èƒ½ç»§ç»­æ“ä½œï¼Œè€Œ <code>xenops</code> ä½¿ç”¨ <code>emacs-aio</code> å®ç°å¼‚æ­¥æ¸²æŸ“ï¼Œå®ƒå¹²æ´»çš„æ—¶å€™ä½ ä¹Ÿå¯ä»¥ç»§ç»­å¹²æ´»ï¼Œå®ƒæ¸²æŸ“å¥½å°±ä¼šè‡ªåŠ¨æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">xenops</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="å¹»ç¯ç‰‡">å¹»ç¯ç‰‡</h3>
<p><code>dslide</code> å¯ä»¥ç›´æ¥æŠŠ <code>org-mode</code> å˜æˆå¹»ç¯ç‰‡ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">dslide</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="ç¼–ç¨‹è¯­è¨€-clojure">ç¼–ç¨‹è¯­è¨€ - Clojure</h3>
<p><code>clj-refactor</code> è¿™ä¸ªåŒ…éœ€è¦å’Œåç«¯ Clojure çš„ <code>refactor-nrepl</code> åŒ…ç‰ˆæœ¬åŒæ­¥ï¼Œä¸”å®ƒä»¬æ›´æ–°éƒ½æŒºé¢‘ç¹ï¼Œæ‰€ä»¥æœ€å¥½è§£æ”¾ç‰ˆæœ¬é™åˆ¶ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">unpin!</span> <span class="nv">clj-refactor</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="ç¼–ç¨‹è¯­è¨€-python">ç¼–ç¨‹è¯­è¨€ - Python</h3>
<p>Doom å…¶å®æœ‰ä¸ªå¤§ä¸€ç»Ÿçš„æºä»£ç æ ¼å¼ç¾åŒ–æ¨¡å—ï¼ˆ <code>:editor format</code> ï¼‰ï¼Œä½†æˆ‘è¿˜æ²¡æ—¶é—´æ·±å…¥ç ”ç©¶ï¼Œè€Œä¸”è¿™ä¸ªæ¨¡å—å’Œ LSP æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ï¼Œä¸çŸ¥é“æœ‰ä»€ä¹ˆå‘ï¼Œæ‰€ä»¥æ²¡å¼€ã€‚é’ˆå¯¹æ¯”è¾ƒæœ‰è¿™ä¸ªéœ€æ±‚çš„ Python è¯­è¨€å•ç‹¬åŠ äº† <code>black</code> è¿™ä¸ªæ‡’æ±‰çš„é€‰æ‹©ï¼Œä½œä¸º LSP æ–¹æ¡ˆçš„ä¿åº•ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">python-black</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="å¤§è¯­è¨€æ¨¡å‹">å¤§è¯­è¨€æ¨¡å‹</h3>
<p>è¿‘æœŸæ¶Œç°äº†ä¸€æ‰¹å°†å¤§è¯­è¨€æ¨¡å‹ <em>Large Language Model</em> çš„èƒ½åŠ›æ•´åˆè¿› Emacs çš„å·¥å…·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ¥è¯•è¯•ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">gptel</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">ellama</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="é˜…è¯»">é˜…è¯»</h3>
<p>Doom è‡ªå¸¦ <code>eww</code> æµè§ˆå™¨ï¼Œæ‰€ä»¥æˆ‘åªéœ€è¦åŠ ä¸€ä¸ª <code>epub</code> çš„é˜…è¯»å™¨ <code>nov.el</code> ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">nov</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="å°ç©å…·">å°ç©å…·</h3>
<p><code>keycast</code> å¯ä»¥è·Ÿè¸ªå¹¶æ˜¾ç¤ºæ‰€æœ‰æŒ‰é”®æ“ä½œï¼Œåœ¨å½•åˆ¶ä¸ Emacs æœ‰å…³çš„ screencast æ—¶æœ‰ç”¨ï¼Œå…¶å®æˆ‘ç”¨çš„å¾ˆå°‘ï¼ŒScreenFlow æä¾›æ›´æ¼‚äº®çš„è§£å†³æ–¹æ¡ˆï¼Œä½†åœ¨ Linux ä¸‹æ˜¯ä¸ªä¸é”™çš„æ–¹æ¡ˆã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">keycast</span><span class="p">)</span>
</span></span></code></pre></div><p>è¿™ä¸ªåŒ…å…è®¸ä½ åœ¨ Emacs é‡ŒæŸ¥è¯¢ã€ä¸‹è½½å’ŒæŸ¥çœ‹ <a href="https://xkcd.com">xkcd</a> æ¼«ç”»ï¼Œå˜¿å˜¿å˜¿ï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">package!</span> <span class="nv">xkcd</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="org-mode">Org Mode</h2>
<p><code>org-mode</code> æ˜¯ Emacs çš„æ‹›ç‰Œåº”ç”¨ï¼Œä¸€ä¸ªå…¨å‰¯æ­¦è£…çš„ <code>org-mode</code> å¯ä»¥åœ¨ä¸€è‡´çš„ç¯å¢ƒä¸‹å®Œæˆæ—¥ç¨‹è®¡åˆ’ã€ç¬”è®°ã€åšå®¢ã€è®ºæ–‡ç­‰å„ç§å†™ä½œä»»åŠ¡ï¼Œä¸ä»…å¯ä»¥å†™å‡ºæ–‡æœ¬ã€ç»“æ„åŒ–åˆ—è¡¨ã€è¡¨æ ¼ï¼Œè¿˜å¯ä»¥æ’å…¥å›¾ç‰‡ã€ \(LaTeX\) å…¬å¼ã€å¯è¿è¡Œçš„ç¨‹åºä»£ç ã€å¯è¿½è¸ªçš„ä»»åŠ¡ï¼Œè¿˜å¯ä»¥å€ŸåŠ© <code>org-roam</code> å®ç°ç¬”è®°çš„çŸ¥è¯†ç½‘ç»œåŒ–ã€‚è¿™äº›åŠŸèƒ½æ˜¯ä»¥ <code>org-mode</code> ä¸ºä¸­å¿ƒçš„ä¸€ç»„è½¯ä»¶åŒ…é…åˆå®ç°çš„ï¼Œæ‰€ä»¥é…ç½®ä¹Ÿç›¸å¯¹å¤šä¸€ç‚¹ã€‚</p>
<h3 id="åŸºæœ¬é…ç½®">åŸºæœ¬é…ç½®</h3>
<p>è®¾ç½® <code>org-agenda</code> ä½¿ç”¨çš„ Org æ–‡æ¡£çš„ä½ç½®ï¼Œå¯ä»¥æŒ‡å®šç›®å½•å’Œæ–‡ä»¶å <em>pattern</em> æŠŠæ‰€æœ‰ <code>.org</code> æ–‡ä»¶æ”¾è¿›å»ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">org-agenda-files</span> <span class="p">(</span><span class="nv">directory-files-recursively</span> <span class="nv">org-directory</span> <span class="s">&#34;\\.org$&#34;</span><span class="p">))</span>
</span></span></code></pre></div><p>ä½†é€šå¸¸è¿˜æ˜¯æŒ‡å®šå‡ ä¸ªåˆ†ç±»ä»»åŠ¡æ–‡ä»¶å°±å¥½äº†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">org</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">org-agenda-files</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nf">list</span> <span class="p">(</span><span class="nf">expand-file-name</span> <span class="s">&#34;Inbox.org&#34;</span> <span class="nv">org-directory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nf">expand-file-name</span> <span class="s">&#34;Private.org&#34;</span> <span class="nv">org-directory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nf">expand-file-name</span> <span class="s">&#34;Work.org&#34;</span> <span class="nv">org-directory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nf">expand-file-name</span> <span class="s">&#34;Projects.org&#34;</span> <span class="nv">org-directory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nf">expand-file-name</span> <span class="s">&#34;Notes.org&#34;</span> <span class="nv">org-directory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">              <span class="p">)))</span>
</span></span></code></pre></div><p>å¦ä¸€ä¸ªå’Œ <code>org-agenda</code> æœ‰å…³çš„åœºæ™¯ï¼Œå°±æ˜¯ç”¨ <code>org-roam</code> å†™ä¸œè¥¿å¾ˆå¿«å°±ä¼šæœ‰éå¸¸å¤šçš„æ–‡ä»¶ï¼Œæœ‰äº›ç¬”è®°ä¸€æ—¶å†™ä¸å®Œå¯ä»¥åŠ ä¸Š <code>TODO</code> æ ‡ç­¾ï¼Œç„¶åå°±éœ€è¦ä¸€ä¸ªåˆå¿«åˆæ–¹ä¾¿çš„æ‰‹æ®µæ¥æ•´ç†è¿™äº› <code>TODO</code> åˆ—è¡¨ï¼Œå¯¹è¿™ä¸ªé—®é¢˜ Emacs ç¤¾åŒºæœ‰ä½ Boris Buligaï¼ˆa.k.a <a href="https://github.com/d12frosted">d12frosted</a>ï¼Œè¿™ä½è¿˜æ˜¯ <code>homebrew-emacs-plus</code> å’Œ <code>flyspell-correct</code> çš„ç»´æŠ¤è€…ï¼‰ç»™å‡ºäº†ä¸€ä¸ª<a href="https://d12frosted.io/posts/2021-01-16-task-management-with-roam-vol5.html">æ¼‚äº®çš„è§£å†³æ–¹æ¡ˆ</a>ï¼Œç®€å•è¯´å°±æ˜¯æ£€æµ‹åˆ° <code>TODO</code> æ—¶è‡ªåŠ¨ç»™æ–‡ä»¶æ‰“ä¸€ä¸ª <code>project</code> æ ‡ç­¾ï¼ˆå¦‚æœæ£€æµ‹åˆ°å½“å‰æ–‡ä»¶æ‰€æœ‰ <code>TODO</code> éƒ½æ²¡æœ‰äº†å°±è‡ªåŠ¨ç§»é™¤æ ‡ç­¾ï¼‰ï¼Œç„¶åç›´æ¥é€šè¿‡ org-roam çš„æ•°æ®åº“æŸ¥è¯¢åŠ¨æ€å°†è¿™äº›æ–‡ä»¶æ·»è¿› <code>org-agenda</code> æ–‡ä»¶åˆ—è¡¨ã€‚ä»ä»–åˆ†äº«çš„ <a href="https://gist.github.com/d12frosted/a60e8ccb9aceba031af243dff0d19b2e">gist</a> å…‹éš†ä»£ç åˆ°æœ¬åœ°ï¼Œç„¶ååŠ è½½å°±å¯ä»¥äº†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">org-agenda</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">load!</span> <span class="s">&#34;lisp/vulpea-agenda&#34;</span><span class="p">))</span>
</span></span></code></pre></div><p>åŸæ¥çš„ç‰ˆæœ¬æœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸Šé¢ç»™å˜é‡ <code>org-agenda-files</code> æŒ‡å®šçš„æ–‡ä»¶ä¼šè¢«ç§»é™¤ï¼Œæ‰€ä»¥æˆ‘åšäº†ä¸€ç‚¹ patch ä¹‹åæ‰åˆç”¨ <a href="https://gist.github.com/neolee/7e0c2abf2254c72baafb4a1000f0fbf0">â†’</a>ã€‚</p>
<p>Org æ–‡æ¡£å¯¼å‡º \(LaTeX\) æ–‡æ¡£æ—¶éœ€è¦åšä¸€äº›é…ç½®ï¼Œä¸€æ˜¯å¼•å…¥ <code>ctex</code> åŒ…ï¼Œå¦åˆ™ä¸­æ–‡å¤„ç†ä¼šæœ‰é—®é¢˜ï¼›äºŒæ˜¯é…ç½®ä¸€ä¸‹å¸¦é“¾æ¥æ–‡æœ¬çš„æ ¼å¼ï¼Œä¸ç„¶ä¼šæ˜¯å¸¦çº¢è‰²æ¡†çš„æ–‡æœ¬ï¼Œéå¸¸ææ€–ï¼›å¦å¤–æ˜¯ä¸€äº› \(LaTeX\) çš„å¸¸è§„è®¾ç½®ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">org</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">org-latex-default-packages-alist</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">remove</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;AUTO&#34;</span> <span class="s">&#34;inputenc&#34;</span> <span class="no">t</span><span class="p">)</span> <span class="nv">org-latex-default-packages-alist</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">org-latex-pdf-process</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;xelatex -interaction nonstopmode %f&#34;</span>
</span></span><span class="line"><span class="cl">                                <span class="s">&#34;xelatex -interaction nonstopmode %f&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">org-latex-packages-alist</span>
</span></span><span class="line"><span class="cl">        <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;&#34;</span> <span class="s">&#34;ctex&#34;</span> <span class="no">t</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">org-latex-hyperref-template</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;\\hypersetup{linktoc=all,colorlinks=true,urlcolor=blue,linkcolor=blue}&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><p>ç¼ºçœçš„ \(LaTeX\) æ¨¡æ¿çš„ç›®å½•ä¹‹åç›´æ¥ä¼šæ¥ä¸Šæ­£æ–‡ï¼Œä½†ä¸€èˆ¬çš„æ’ç‰ˆä¹ æƒ¯ä¼šå¸Œæœ›æ­£æ–‡å¦èµ·ä¸€é¡µï¼Œè¿™ä¸ªç®€å•å®šåˆ¶ä¸€ä¸‹å°±å¯ä»¥äº†ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">org-latex-toc-command</span> <span class="s">&#34;\\tableofcontents \\clearpage\n\n&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>åœ¨ç¼–è¾‘ Org æ–‡æ¡£æ—¶ï¼Œç»å¸¸ç‚¹å‡»é“¾æ¥è·³è½¬åˆ°å¦ä¸€ç¯‡ç¬”è®°ï¼Œè¿™æ—¶å€™å¿«é€Ÿè¿”å›å¯ä»¥è®¾ç½®ä¸ºå¿«æ·é”®ï¼Œæˆ‘ç”¨çš„æ˜¯ <code>Control-Command-b</code> ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">org</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">map!</span> <span class="nb">:map</span> <span class="nv">org-mode-map</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;C-s-b&#34;</span> <span class="nf">#&#39;</span><span class="nv">org-mark-ring-goto</span>
</span></span><span class="line"><span class="cl">        <span class="p">))</span>
</span></span></code></pre></div><p>ç»´æŠ¤å¾ˆå¤š Org ç¬”è®°æ—¶ï¼Œè®°ä¸‹ç¬”è®°æœ€åç¼–è¾‘æ—¶é—´ä¼šå¾ˆæœ‰ç”¨ï¼Œè¿™ä¸ªäº‹æƒ…å¾ˆé€‚åˆäº¤ç»™ Emacs è‡ªå·±åšï¼Œå¯ä»¥åˆ©ç”¨ Emacs çš„ <a href="https://www.emacswiki.org/emacs/TimeStamp">Time Stamp</a> åŠŸèƒ½å®ç°ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">org</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;org-mode-hook</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nb">lambda</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nb">setq-local</span> <span class="nv">time-stamp-active</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">                          <span class="nv">time-stamp-line-limit</span> <span class="mi">18</span>
</span></span><span class="line"><span class="cl">                          <span class="nv">time-stamp-start</span> <span class="s">&#34;^#\\+last_modified: [ \t]*&#34;</span>
</span></span><span class="line"><span class="cl">                          <span class="nv">time-stamp-end</span> <span class="s">&#34;$&#34;</span>
</span></span><span class="line"><span class="cl">                          <span class="nv">time-stamp-format</span> <span class="s">&#34;\[%Y-%m-%d %a %H:%M:%S\]&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;before-save-hook</span> <span class="ss">&#39;time-stamp</span> <span class="no">nil</span> <span class="ss">&#39;local</span><span class="p">))))</span>
</span></span></code></pre></div><p>éœ€è¦è¿™ä¸ªåŠŸèƒ½çš„ Org ç¬”è®°åœ¨ <em>header</em> é‡ŒåŠ å…¥ä¸‹é¢ä¸€è¡Œå³å¯ï¼ˆåœ¨ç¬”è®°çš„å‰18è¡Œéƒ½å¯ä»¥ï¼‰ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-org" data-lang="org"><span class="line"><span class="cl"><span class="cs">#+last_modified</span><span class="c">: [ ]</span>
</span></span></code></pre></div><h3 id="è¿è¡Œä»£ç å—">è¿è¡Œä»£ç å—</h3>
<p>å€ŸåŠ© <code>org-babel</code> æ¥å®ç°å¯è¿è¡Œçš„ä»£ç å—ï¼Œå¯ä»¥åœ¨ä»£ç å—ä¸­åº”ç”¨å¯¹åº”çš„ <em>major mode</em> ï¼Œæä¾›è‰¯å¥½çš„è¯­æ³•é«˜äº®åŠç¼–è¾‘åŠŸèƒ½ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">org-src</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;org-src-lang-modes</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;plantuml&#34;</span> <span class="o">.</span> <span class="nv">plantuml</span><span class="p">)))</span>
</span></span></code></pre></div><p>å¦å¤–æˆ‘è¿˜ä¼šç”¨ Jupyter æ¥è¿è¡Œä¸åŒè¯­è¨€å¼•æ“ã€‚æ³¨æ„ç¬¬ä¸€æ®µé‡Œ <code>:kernel</code> å‚æ•°ï¼Œéœ€è¦è®¾ä¸ºç³»ç»Ÿé‡Œå­˜åœ¨çš„æŸä¸ª Jupyter <em>kernel</em> çš„åå­—ï¼Œä¸”ç³»ç»Ÿç¯å¢ƒé‡Œåº”è¯¥è£…æœ‰ Jupyterï¼ˆå³ç³»ç»Ÿ <code>PATH</code> ä¸­èƒ½æ‰¾åˆ° <code>jupyter</code> ç¨‹åºï¼‰ï¼›ä½¿ç”¨ä¸­å¦‚æœéœ€è¦ <code>pip</code> å®‰è£… Python è½¯ä»¶åŒ…ï¼Œä¹Ÿæ˜¯å®‰è£…åœ¨è¿™ä¸ª <em>kernel</em> ç¯å¢ƒä¸‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">org-babel-default-header-args:jupyter-python</span> <span class="o">&#39;</span><span class="p">((</span><span class="nb">:async</span> <span class="o">.</span> <span class="s">&#34;no&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                                     <span class="p">(</span><span class="nb">:session</span> <span class="o">.</span> <span class="s">&#34;jp&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                                     <span class="p">(</span><span class="nb">:kernel</span> <span class="o">.</span> <span class="s">&#34;wop&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">org</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;org-tempo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">org-babel-do-load-languages</span> <span class="ss">&#39;org-babel-load-languages</span>
</span></span><span class="line"><span class="cl">                               <span class="o">&#39;</span><span class="p">((</span><span class="nv">emacs-lisp</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                 <span class="p">(</span><span class="nv">python</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                 <span class="p">(</span><span class="nv">shell</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                 <span class="p">(</span><span class="nv">latex</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                 <span class="p">(</span><span class="nv">sql</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                 <span class="p">(</span><span class="nv">sqlite</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                 <span class="p">(</span><span class="nv">calc</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                 <span class="p">(</span><span class="nv">jupyter</span> <span class="o">.</span> <span class="no">t</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">org-src</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">dolist</span> <span class="p">(</span><span class="nv">lang</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">python</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">cl-pushnew</span> <span class="p">(</span><span class="nf">cons</span> <span class="p">(</span><span class="nf">format</span> <span class="s">&#34;jupyter-%s&#34;</span> <span class="nv">lang</span><span class="p">)</span> <span class="nv">lang</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="nv">org-src-lang-modes</span> <span class="nb">:key</span> <span class="nf">#&#39;car</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><h3 id="çŸ¥è¯†ç½‘ç»œ">çŸ¥è¯†ç½‘ç»œ</h3>
<h4 id="org-roam">org-roam</h4>
<p>å…¶å®æˆ‘åˆšå¼€å§‹ç”¨ <code>org-roam</code> ï¼Œæ‰€ä»¥åªæœ‰æœ€ç®€å•çš„é…ç½®ï¼Œä¸€äº›å¤æ‚çš„æ¨¡æ¿ä¹‹ç±»çš„éƒ½è¿˜æ²¡å¼€å§‹ç”¨ã€‚è¿™é‡Œæœ€é‡è¦çš„é…ç½®æ˜¯ Roam ç¬”è®°çš„æ ¹ç›®å½•ï¼Œå¦å¤–æˆ‘ç¨å¾®ä¿®æ”¹äº†ä¸‹ç¼ºçœçš„ <em>capture template</em> ï¼Œåœ¨å…ƒæ•°æ®é‡ŒåŠ äº† <em>tag</em> ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">use-package!</span> <span class="nv">org-roam</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:custom</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">org-roam-directory</span> <span class="p">(</span><span class="nv">file-truename</span> <span class="s">&#34;~/Code/Org/roam/&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">org-roam-completion-everywhere</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:bind</span> <span class="p">((</span><span class="s">&#34;C-c n l&#34;</span> <span class="o">.</span> <span class="nv">org-roam-buffer-toggle</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="s">&#34;C-c n f&#34;</span> <span class="o">.</span> <span class="nv">org-roam-node-find</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="s">&#34;C-c n g&#34;</span> <span class="o">.</span> <span class="nv">org-roam-graph</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="s">&#34;C-c n i&#34;</span> <span class="o">.</span> <span class="nv">org-roam-node-insert</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="s">&#34;C-c n c&#34;</span> <span class="o">.</span> <span class="nv">org-roam-capture</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="s">&#34;C-c n j&#34;</span> <span class="o">.</span> <span class="nv">org-roam-dailies-capture-today</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">org-roam-capture-templates</span>
</span></span><span class="line"><span class="cl">        <span class="o">`</span><span class="p">((</span><span class="s">&#34;d&#34;</span> <span class="s">&#34;default&#34;</span> <span class="nv">plain</span> <span class="s">&#34;%?&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:if-new</span> <span class="p">(</span><span class="nv">file+head</span> <span class="s">&#34;%&lt;%Y%m%d%H%M%S&gt;-${slug}.org&#34;</span>
</span></span><span class="line"><span class="cl">                              <span class="s">&#34;#+title: ${title}\n#+filetags:\n\n&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:unnarrowed</span> <span class="no">t</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">org-roam-db-autosync-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;org-roam-protocol</span><span class="p">))</span>
</span></span></code></pre></div><h4 id="org-roam-ui">org-roam-ui</h4>
<p>è¿™ä¸ªçŸ¥è¯†ç½‘ç»œçš„å¯è§†åŒ–ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­ï¼Œé€šè¿‡ <em>websocket</em> ä¸ Emacs é€šä¿¡ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">org-roam</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">use-package!</span> <span class="nv">websocket</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">use-package!</span> <span class="nv">org-roam-ui</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">setq</span> <span class="nv">org-roam-ui-sync-theme</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">          <span class="nv">org-roam-ui-follow</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">          <span class="nv">org-roam-ui-update-on-save</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">          <span class="nv">org-roam-ui-open-on-start</span> <span class="no">t</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><h3 id="å®æ—¶å…¬å¼é¢„è§ˆ">å®æ—¶å…¬å¼é¢„è§ˆ</h3>
<p><code>xenops</code> åŸºæœ¬é…ç½®ï¼Œæ³¨æ„å…¬å¼æ˜¾ç¤ºçš„å¤§å°å¯ç”¨å˜é‡ <code>xenops-math-image-scale-factor</code> å¾®è°ƒã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">display-graphic-p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">use-package!</span> <span class="nv">xenops</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:hook</span> <span class="p">(</span><span class="nv">latex-mode</span> <span class="o">.</span> <span class="nv">xenops-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:hook</span> <span class="p">(</span><span class="nv">LaTeX-mode</span> <span class="o">.</span> <span class="nv">xenops-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:hook</span> <span class="p">(</span><span class="nv">org-mode</span> <span class="o">.</span> <span class="nv">xenops-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:defer</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">map!</span> <span class="nb">:map</span> <span class="nv">xenops-mode-map</span>
</span></span><span class="line"><span class="cl">          <span class="nb">:n</span> <span class="s">&#34;RET&#34;</span> <span class="nf">#&#39;</span><span class="nv">xenops-dwim</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">setq</span> <span class="nv">xenops-cache-directory</span> <span class="p">(</span><span class="nf">concat</span> <span class="nv">doom-cache-dir</span> <span class="s">&#34;xenops/&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="nv">xenops-reveal-on-entry</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">          <span class="nv">xenops-math-latex-process</span> <span class="ss">&#39;dvisvgm</span>
</span></span><span class="line"><span class="cl">          <span class="nv">xenops-math-image-scale-factor</span> <span class="mf">1.5</span>
</span></span><span class="line"><span class="cl">          <span class="p">)))</span>
</span></span></code></pre></div><h2 id="å¤§è¯­è¨€æ¨¡å‹">å¤§è¯­è¨€æ¨¡å‹</h2>
<p>å¤§è¯­è¨€æ¨¡å‹ç›¸å…³å·¥å…· <code>gptel</code> å’Œ <code>ellama</code> çš„é…ç½®ï¼Œä½¿ç”¨æœ¬åœ°è¿è¡Œçš„ <code>llama.cpp</code> æœåŠ¡æ¥æä¾›å…¼å®¹ OpenAI çš„ APIã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">use-package!</span> <span class="nv">gptel</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:init</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">gptel-expert-commands</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span>
</span></span><span class="line"><span class="cl">   <span class="nv">gptel-model</span>   <span class="ss">&#39;qwen3</span>
</span></span><span class="line"><span class="cl">   <span class="nv">gptel-backend</span> <span class="p">(</span><span class="nv">gptel-make-openai</span> <span class="s">&#34;llama.cpp&#34;</span>
</span></span><span class="line"><span class="cl">                                    <span class="nb">:stream</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">                                    <span class="nb">:protocol</span> <span class="s">&#34;http&#34;</span>
</span></span><span class="line"><span class="cl">                                    <span class="nb">:host</span> <span class="s">&#34;localhost:5810&#34;</span>
</span></span><span class="line"><span class="cl">                                    <span class="nb">:models</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">qwen3</span> <span class="nv">qwen3-nothink</span> <span class="nv">gemma-3</span> <span class="nv">devstral</span><span class="p">))))</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">use-package!</span> <span class="nv">ellama</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:ensure</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:bind</span> <span class="p">(</span><span class="s">&#34;C-c l&#34;</span> <span class="o">.</span> <span class="nv">ellama-transient-main-menu</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:hook</span> <span class="p">(</span><span class="nv">org-ctrl-c-ctrl-c-final</span> <span class="o">.</span> <span class="nv">ellama-chat-send-last-message</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:init</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">ellama-sessions-directory</span> <span class="s">&#34;~/.config/emacs/.local/cache/ellama-sessions&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">; (setopt ellama-keymap-prefix &#34;C-c l&#34;)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-language</span> <span class="s">&#34;Chinese&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;llm-openai</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-openai-compatible</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:url</span> <span class="s">&#34;http://localhost:5810/v1&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen3&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;snowflake&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-summarization-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-openai-compatible</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:url</span> <span class="s">&#34;http://localhost:5810/v1&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen3&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;snowflake&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-coding-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-openai-compatible</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:url</span> <span class="s">&#34;http://localhost:5810/v1&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;devstral&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;snowflake&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-naming-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-openai-compatible</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:url</span> <span class="s">&#34;http://localhost:5810/v1&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen3-nothink&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;snowflake&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-naming-scheme</span> <span class="ss">&#39;ellama-generate-name-by-llm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-translation-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-openai-compatible</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:url</span> <span class="s">&#34;http://localhost:5810/v1&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen3&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;snowflake&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-extraction-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-openai-compatible</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:url</span> <span class="s">&#34;http://localhost:5810/v1&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen3&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;snowflake&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-chat-display-action-function</span> <span class="nf">#&#39;</span><span class="nv">display-buffer-full-frame</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-instant-display-action-function</span> <span class="nf">#&#39;</span><span class="nv">display-buffer-at-bottom</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">ellama-context-header-line-global-mode</span> <span class="mi">+1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><p>ä»¥å‰ä½¿ç”¨çš„åŸºäº <code>Ollama</code> çš„é…ç½®å·²åºŸå¼ƒã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">use-package!</span> <span class="nv">gptel</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:init</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">gptel-expert-commands</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span>
</span></span><span class="line"><span class="cl">   <span class="nv">gptel-model</span>   <span class="ss">&#39;qwen2.5:14b</span>
</span></span><span class="line"><span class="cl">   <span class="nv">gptel-backend</span> <span class="p">(</span><span class="nv">gptel-make-ollama</span> <span class="s">&#34;ollama&#34;</span>
</span></span><span class="line"><span class="cl">                   <span class="nb">:host</span> <span class="s">&#34;localhost:11434&#34;</span>
</span></span><span class="line"><span class="cl">                   <span class="nb">:stream</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">                   <span class="nb">:models</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">qwen2.5:14b</span> <span class="nv">qwen2.5-coder:32b</span><span class="p">))))</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">use-package</span> <span class="nv">ellama</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:ensure</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:bind</span> <span class="p">(</span><span class="s">&#34;C-c l&#34;</span> <span class="o">.</span> <span class="nv">ellama-transient-main-menu</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:hook</span> <span class="p">(</span><span class="nv">org-ctrl-c-ctrl-c-final</span> <span class="o">.</span> <span class="nv">ellama-chat-send-last-message</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:init</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">ellama-sessions-directory</span> <span class="s">&#34;~/.config/emacs/.local/cache/ellama-sessions&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">; (setopt ellama-keymap-prefix &#34;C-c l&#34;)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-language</span> <span class="s">&#34;Chinese&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;llm-ollama</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-ollama</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen2.5:14b&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;nomic-embed-text&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:default-chat-non-standard-params</span> <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;num_ctx&#34;</span> <span class="o">.</span> <span class="mi">8192</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-summarization-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-ollama</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen2.5:14b&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;nomic-embed-text&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:default-chat-non-standard-params</span> <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;num_ctx&#34;</span> <span class="o">.</span> <span class="mi">32768</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-coding-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-ollama</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen2.5-coder:32b&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;nomic-embed-text&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:default-chat-non-standard-params</span> <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;num_ctx&#34;</span> <span class="o">.</span> <span class="mi">32768</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-naming-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-ollama</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen2.5:14b&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;nomic-embed-text&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:default-chat-non-standard-params</span> <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;stop&#34;</span> <span class="o">.</span> <span class="p">(</span><span class="s">&#34;\n&#34;</span><span class="p">)))))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-naming-scheme</span> <span class="ss">&#39;ellama-generate-name-by-llm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-translation-provider</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">make-llm-ollama</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:chat-model</span> <span class="s">&#34;qwen2.5:14b&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:embedding-model</span> <span class="s">&#34;nomic-embed-text&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="nb">:default-chat-non-standard-params</span> <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;num_ctx&#34;</span> <span class="o">.</span> <span class="mi">32768</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-extraction-provider</span> <span class="p">(</span><span class="nv">make-llm-ollama</span>
</span></span><span class="line"><span class="cl">                                      <span class="nb">:chat-model</span> <span class="s">&#34;qwen2.5-coder:14b&#34;</span>
</span></span><span class="line"><span class="cl">                                      <span class="nb">:embedding-model</span> <span class="s">&#34;nomic-embed-text&#34;</span>
</span></span><span class="line"><span class="cl">                                      <span class="nb">:default-chat-non-standard-params</span> <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;num_ctx&#34;</span> <span class="o">.</span> <span class="mi">32768</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-chat-display-action-function</span> <span class="nf">#&#39;</span><span class="nv">display-buffer-full-frame</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">setopt</span> <span class="nv">ellama-instant-display-action-function</span> <span class="nf">#&#39;</span><span class="nv">display-buffer-at-bottom</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">ellama-context-header-line-global-mode</span> <span class="mi">+1</span><span class="p">))</span>
</span></span></code></pre></div><h2 id="å¹»ç¯ç‰‡">å¹»ç¯ç‰‡</h2>
<p><code>dslide</code> åŸºæœ¬é…ç½®ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">use-package!</span> <span class="nv">dslide</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:hook</span>
</span></span><span class="line"><span class="cl">  <span class="p">((</span><span class="nv">dslide-start</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">lambda</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">org-fold-hide-block-all</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq-default</span> <span class="nv">x-stretch-cursor</span> <span class="mi">-1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">redraw-display</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">blink-cursor-mode</span> <span class="mi">-1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq</span> <span class="nv">cursor-type</span> <span class="ss">&#39;bar</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;;(org-display-inline-images)</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;;(hl-line-mode -1)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">text-scale-increase</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">read-only-mode</span> <span class="mi">1</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">   <span class="p">(</span><span class="nv">dslide-stop</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">lambda</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">blink-cursor-mode</span> <span class="mi">+1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq-default</span> <span class="nv">x-stretch-cursor</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq</span> <span class="nv">cursor-type</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">text-scale-increase</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;;(hl-line-mode 1)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">read-only-mode</span> <span class="mi">-1</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">dslide-margin-content</span> <span class="mf">0.5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">dslide-animation-duration</span> <span class="mf">0.5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">dslide-margin-title-above</span> <span class="mf">0.3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">dslide-margin-title-below</span> <span class="mf">0.3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">dslide-header-email</span> <span class="no">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">dslide-header-date</span> <span class="no">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nf">define-key</span> <span class="nv">org-mode-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;&lt;f8&gt;&#34;</span><span class="p">)</span> <span class="nf">#&#39;</span><span class="nv">dslide-deck-start</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nf">define-key</span> <span class="nv">dslide-mode-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;&lt;f9&gt;&#34;</span><span class="p">)</span> <span class="nf">#&#39;</span><span class="nv">dslide-deck-stop</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><h2 id="å…¶ä»–é…ç½®">å…¶ä»–é…ç½®</h2>
<h3 id="popups">Popups</h3>
<p>è®¾ç½®ä¸€äº›å·¥å…·çª—å£çš„å¼¹å‡ºè§„åˆ™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">vterm</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">set-popup-rule!</span> <span class="s">&#34;*doom:vterm-popup:main&#34;</span> <span class="nb">:size</span> <span class="mf">0.36</span> <span class="nb">:vslot</span> <span class="mi">-4</span> <span class="nb">:select</span> <span class="no">t</span> <span class="nb">:quit</span> <span class="no">nil</span> <span class="nb">:ttl</span> <span class="mi">0</span> <span class="nb">:side</span> <span class="ss">&#39;right</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><h3 id="smartparens">Smartparens</h3>
<p>å› ä¸ºæˆ‘ç”¨ <code>lipsy</code> æ‰€ä»¥å…¶å® <code>smaertparens</code> ç”¨çš„ä¸å¤šï¼Œä¸è¿‡ä½œä¸ºä¿åº•ï¼Œè¿˜æ˜¯é…äº†ä¸€ä¸‹å¸¸ç”¨æŒ‰é”®ç»„åˆã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">map!</span>
</span></span><span class="line"><span class="cl"> <span class="p">(</span><span class="nb">:after</span> <span class="nv">smartparens</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">:map</span> <span class="nv">smartparens-mode-map</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-M-f&#34;</span>       <span class="nf">#&#39;</span><span class="nv">sp-forward-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-M-b&#34;</span>       <span class="nf">#&#39;</span><span class="nv">sp-backward-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-M-u&#34;</span>       <span class="nf">#&#39;</span><span class="nv">sp-backward-up-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-M-d&#34;</span>       <span class="nf">#&#39;</span><span class="nv">sp-down-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-M-p&#34;</span>       <span class="nf">#&#39;</span><span class="nv">sp-backward-down-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-M-n&#34;</span>       <span class="nf">#&#39;</span><span class="nv">sp-up-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-)&#34;</span>         <span class="nf">#&#39;</span><span class="nv">sp-forward-slurp-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-}&#34;</span>         <span class="nf">#&#39;</span><span class="nv">sp-forward-barf-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-(&#34;</span>         <span class="nf">#&#39;</span><span class="nv">sp-backward-slurp-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-{&#34;</span>         <span class="nf">#&#39;</span><span class="nv">sp-backward-barf-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;C-M-s&#34;</span>       <span class="nf">#&#39;</span><span class="nv">sp-splice-sexp</span>
</span></span><span class="line"><span class="cl">   <span class="p">))</span>
</span></span><span class="line"><span class="cl"> <span class="p">)</span>
</span></span></code></pre></div><h3 id="python">Python</h3>
<p>å‡ ä¸ªå°å·¥å…·æ–¹ä¾¿ä¸€äº›å¸¸ç”¨æ“ä½œï¼ŒåŒ…æ‹¬ç”¨ <code>black</code> æ ¼å¼åŒ–æºä»£ç ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">python</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:preface</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">defun</span> <span class="nv">+python-make-fstring</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Change string to fstring&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nf">nth</span> <span class="mi">3</span> <span class="p">(</span><span class="nv">syntax-ppss</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">p</span> <span class="p">(</span><span class="nf">point</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">nth</span> <span class="mi">8</span> <span class="p">(</span><span class="nv">syntax-ppss</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nf">insert</span> <span class="s">&#34;f&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nf">goto-char</span> <span class="nv">p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nf">forward-char</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">defun</span> <span class="nv">+python-format-buffer</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Format python buffer with black&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">python-black-buffer</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:bind</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">map!</span> <span class="nb">:map</span> <span class="nv">python-mode-map</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;C-c x s&#34;</span> <span class="nf">#&#39;</span><span class="nv">+python-make-fstring</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;C-c x f&#34;</span> <span class="nf">#&#39;</span><span class="nv">+python-format-buffer</span><span class="p">))</span>
</span></span></code></pre></div><h3 id="clojure">Clojure</h3>
<p>CIDER æ˜¯ Clojure çš„ <em>REPL</em> ï¼Œç¼ºçœä¼šä½œä¸ºä¸€ä¸ª <em>popup</em> æ˜¾ç¤ºåœ¨çª—å£ä¸‹æ–¹ï¼Œä½†ä¸€èˆ¬æ¥è¯´ä¹ æƒ¯äºå·¦å³åˆ†å±ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹ï¼›åé¢è¯• CIDER çš„å‡ ä¸ªè®¾ç½®ï¼Œä¸€ä¸ªå¯ä»¥åœ¨åˆ‡æ¢ <em>namespace</em> çš„æ—¶å€™è‡ªåŠ¨åŠ è½½å¯¹åº”ä»£ç ï¼Œå¦ä¸€ä¸ªæŒ‡å®š <code>=cider-jack-in</code> æ—¶ä½¿ç”¨ <code>deps.edn</code> ä¸­å“ªä¸ªé…ç½® <em>alias</em> ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">cider</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">set-popup-rules!</span>
</span></span><span class="line"><span class="cl">    <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;^\\*cider-repl&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="nb">:side</span> <span class="nv">right</span>
</span></span><span class="line"><span class="cl">       <span class="nb">:width</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">       <span class="nb">:quit</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">       <span class="nb">:ttl</span> <span class="no">nil</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">cider-repl-require-ns-on-set</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">cider-clojure-cli-aliases</span> <span class="s">&#34;:cider&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><h3 id="prolog">Prolog</h3>
<p>è¿™ä¸ªè¯­è¨€æ¯”è¾ƒå°ä¼—ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®ä¸€ä¸‹ç¼ºçœçš„æ–‡ä»¶åç¼€ï¼Œè‡ªåŠ¨å¯¹åº” <em>major-mode</em> ï¼Œä¸€èˆ¬æ¥è¯´åç¼€ç”¨ <code>pl</code> å’Œ <code>pro</code> éƒ½å¯ä»¥ï¼Œå‰è€… <code>Perl</code> è¯­è¨€ä¼šç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨åä¸€ä¸ªï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">auto-mode-alist</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">append</span> <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;\\.pro&#34;</span> <span class="o">.</span> <span class="nv">prolog-mode</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">              <span class="nv">auto-mode-alist</span><span class="p">))</span>
</span></span></code></pre></div><h3 id="web">Web</h3>
<p><code>web-mode</code> çš„ <em>auto indentation</em> ç»å¸¸æœ‰å¥‡æ€ªçš„è¡Œä¸ºï¼Œè¿˜æ˜¯å…³äº†å¥½ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">web-mode-enable-auto-indentation</span> <span class="no">nil</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="epub">EPUB</h3>
<p>å°† <code>.epub</code> æ–‡ä»¶ä¸ <code>nov.el</code> ç»‘å®šã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">after!</span> <span class="nv">nov</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;auto-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;\\.epub\\&#39;&#34;</span> <span class="o">.</span> <span class="nv">nov-mode</span><span class="p">)))</span>
</span></span></code></pre></div><h3 id="keycast">keycast</h3>
<p>å¯¹ <code>doom-modeline</code> éœ€è¦åšä¸€äº› <em>tweak</em> æ‰èƒ½ç”¨ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">use-package!</span> <span class="nv">keycast</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:commands</span> <span class="nv">keycast-mode</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">define-minor-mode</span> <span class="nv">keycast-mode</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Show current command and its key binding in the mode line.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:global</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">if</span> <span class="nv">keycast-mode</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">progn</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;pre-command-hook</span> <span class="ss">&#39;keycast--update</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;global-mode-string</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;&#34;</span> <span class="nv">keycast-mode-line</span> <span class="s">&#34; &#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">remove-hook</span> <span class="ss">&#39;pre-command-hook</span> <span class="ss">&#39;keycast--update</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq</span> <span class="nv">global-mode-string</span> <span class="p">(</span><span class="nv">remove</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;&#34;</span> <span class="nv">keycast-mode-line</span> <span class="s">&#34; &#34;</span><span class="p">)</span> <span class="nv">global-mode-string</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">custom-set-faces!</span>
</span></span><span class="line"><span class="cl">    <span class="o">&#39;</span><span class="p">(</span><span class="nv">keycast-command</span> <span class="nb">:inherit</span> <span class="nv">doom-modeline-debug</span> <span class="nb">:height</span> <span class="mf">1.0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">&#39;</span><span class="p">(</span><span class="nv">keycast-key</span> <span class="nb">:inherit</span> <span class="nv">custom-modified</span> <span class="nb">:height</span> <span class="mf">1.1</span> <span class="nb">:weight</span> <span class="nv">bold</span><span class="p">)))</span>
</span></span></code></pre></div><h3 id="xkcd">xkcd</h3>
<p>å¹²æ´»ç´¯äº†çœ‹çœ‹æ¼«ç”»ï¼Œä¸äº¦ä¹ä¹ï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">use-package!</span> <span class="nv">xkcd</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:commands</span> <span class="p">(</span><span class="nv">xkcd-get</span> <span class="nv">xkcd</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">:config</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">setq</span> <span class="nv">xkcd-cache-dir</span> <span class="p">(</span><span class="nf">expand-file-name</span> <span class="s">&#34;xkcd/&#34;</span> <span class="nv">doom-cache-dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nv">xkcd-cache-latest</span> <span class="p">(</span><span class="nf">expand-file-name</span> <span class="s">&#34;xkcd/latest&#34;</span> <span class="nv">doom-cache-dir</span><span class="p">)))</span>
</span></span></code></pre></div><div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Literate Configï¼šè¿™ä¸ªå¾ˆé…·çš„æƒ³æ³•æ¥æºäº Donald Knuth è€çˆ·å­40å¹´å‰æå‡ºçš„ <em>Literate Programming</em> ï¼Œå°±æ˜¯æŠŠæ–‡å­—å’Œç¨‹åºå†™åœ¨åŒä¸€æ–‡æ¡£é‡Œï¼Œç”¨ä¸¤ä¸ªç¨‹åºæ¥å¤„ç†è¿™ä¸ªæ–‡æ¡£ï¼Œä¸€ä¸ªå« <em>tangle</em> ï¼Œå¯ä»¥æŠŠé‡Œé¢æ‰€æœ‰ä»£ç æå–å‡ºæ¥ç»„æˆä¸€ä¸ªå¯ä»¥è¿è¡Œçš„ç¨‹åºï¼Œå¦ä¸€ä¸ªå« <em>weave</em> ï¼Œå¯ä»¥å°†æ–‡æ¡£æ•´ä½“å¯¼å‡ºæˆå„ç§å¯è¯»æ ¼å¼ä¾›äººé˜…è¯»ã€‚å…³äºè¿™ä¸ªä¼˜é›…æƒ³æ³•çš„æ›´æ·±å…¥è®¨è®ºï¼Œå¯ä»¥è¯»è¯»<a href="https://leanpub.com/lit-config/read">è¿™æœ¬ä¹¦</a>ã€‚&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

</article>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css"
    integrity="sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js"
    integrity="sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz"
    crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(document.body, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false }
            ]
        });
    });
</script>


<section class="post-nav">
    <ul>
        <li>
        
            <a href="/posts/emacs-reloaded/"><i class="fa fa-chevron-circle-left"></i> Emacs Reloaded</a>
        
        </li>
        <li>
        
            <a href="/posts/bridge-17/">è‡ªç„¶å«ç‰Œæ³•å’Œé˜²å®ˆç³»ç»Ÿï¼ˆåä¸ƒé˜Ÿï¼‰ <i class="fa fa-chevron-circle-right"></i> </a>
        
        </li>
    </ul>
</section>
  
    
    
  





</main>
    <footer>
        <ul>
            <li>
                <h6>Copyright Â© 2024 - Neo Lee | 
                    Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
                    <a href="/index.xml">Subscribe </a></h6>
            </li>
            
            
        </ul>
    </footer>
</div>
<script src="/js/scripts.js"></script>

  


</body>

</html>

